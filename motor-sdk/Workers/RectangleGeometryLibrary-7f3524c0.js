define(["exports","./when-45f3d25d","./Check-34538dad","./Cartesian3-eab74dc0","./Cartesian2-7265a782","./BoundingSphere-1b58374c","./GeometryAttribute-b13b19b5"],(function(t,n,a,r,e,o,s){"use strict";var i=Math.cos,h=Math.sin,g=Math.sqrt,u={computePosition:function(t,a,r,e,o,s,u){var C=a.radiiSquared,c=t.nwCorner,l=t.boundingRectangle,d=c.latitude-t.granYCos*e+o*t.granXSin,S=i(d),w=h(d),M=C.z*w,m=c.longitude+e*t.granYSin+o*t.granXCos,X=S*i(m),Y=S*h(m),p=C.x*X,v=C.y*Y,O=g(p*X+v*Y+M*w);if(s.x=p/O,s.y=v/O,s.z=M/O,r){var R=t.stNwCorner;n.defined(R)?(d=R.latitude-t.stGranYCos*e+o*t.stGranXSin,m=R.longitude+e*t.stGranYSin+o*t.stGranXCos,u.x=(m-t.stWest)*t.lonScalar,u.y=(d-t.stSouth)*t.latScalar):(u.x=(m-l.west)*t.lonScalar,u.y=(d-l.south)*t.latScalar)}}},C=new s.Matrix2,c=new r.Cartesian3,l=new e.Cartographic,d=new r.Cartesian3,S=new o.GeographicProjection;function w(t,n,a,e,o,i,h){var g=Math.cos(n),u=e*g,l=a*g,w=Math.sin(n),M=e*w,m=a*w;c=S.project(t,c),c=r.Cartesian3.subtract(c,d,c);var X=s.Matrix2.fromRotation(n,C);c=s.Matrix2.multiplyByVector(X,c,c),c=r.Cartesian3.add(c,d,c),t=S.unproject(c,t),i-=1,h-=1;var Y=t.latitude,p=Y+i*m,v=Y-u*h,O=Y-u*h+i*m,R=Math.max(Y,p,v,O),_=Math.min(Y,p,v,O),f=t.longitude,G=f+i*l,b=f+h*M,x=f+h*M+i*l,P=Math.max(f,G,b,x),W=Math.min(f,G,b,x);return{north:R,south:_,east:P,west:W,granYCos:u,granYSin:M,granXCos:l,granXSin:m,nwCorner:t}}u.computeOptions=function(t,n,o,s,i,h,g){var u,C,c,M,m,X=t.east,Y=t.west,p=t.north,v=t.south,O=!1,R=!1;p===r.CesiumMath.PI_OVER_TWO&&(O=!0),v===-r.CesiumMath.PI_OVER_TWO&&(R=!0);var _=p-v;m=Y>X?r.CesiumMath.TWO_PI-Y+X:X-Y,u=Math.ceil(m/n)+1,C=Math.ceil(_/n)+1,c=m/(u-1),M=_/(C-1);var f=e.Rectangle.northwest(t,h),G=e.Rectangle.center(t,l);0===o&&0===s||(G.longitude<f.longitude&&(G.longitude+=r.CesiumMath.TWO_PI),d=S.project(G,d));var b=M,x=c,P=0,W=0,y=e.Rectangle.clone(t,i),I={granYCos:b,granYSin:P,granXCos:x,granXSin:W,nwCorner:f,boundingRectangle:y,width:u,height:C,northCap:O,southCap:R};if(0!==o){var T=w(f,o,c,M,G,u,C);if(p=T.north,v=T.south,X=T.east,Y=T.west,p<-r.CesiumMath.PI_OVER_TWO||p>r.CesiumMath.PI_OVER_TWO||v<-r.CesiumMath.PI_OVER_TWO||v>r.CesiumMath.PI_OVER_TWO)throw new a.DeveloperError("Rotated rectangle is invalid.  It crosses over either the north or south pole.");I.granYCos=T.granYCos,I.granYSin=T.granYSin,I.granXCos=T.granXCos,I.granXSin=T.granXSin,y.north=p,y.south=v,y.east=X,y.west=Y}if(0!==s){o-=s;var E=e.Rectangle.northwest(y,g),V=w(E,o,c,M,G,u,C);I.stGranYCos=V.granYCos,I.stGranXCos=V.granXCos,I.stGranYSin=V.granYSin,I.stGranXSin=V.granXSin,I.stNwCorner=E,I.stWest=V.west,I.stSouth=V.south}return I},t.RectangleGeometryLibrary=u}));