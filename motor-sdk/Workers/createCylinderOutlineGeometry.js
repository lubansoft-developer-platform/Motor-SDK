define(["./when-45f3d25d","./Check-34538dad","./Cartesian3-eab74dc0","./Cartesian2-174fefc1","./BoundingSphere-9db3442e","./Transforms-3e7152f2","./Matrix4-22b96d31","./RuntimeError-86da6af2","./WebGLConstants-3660bc8f","./ComponentDatatype-86703c58","./GeometryAttribute-98a8cf59","./PrimitiveType-30fa6f85","./GeometryAttributes-9d45f9e2","./IndexDatatype-cb635cbc","./GeometryOffsetAttribute-f755a5cb","./CylinderGeometryLibrary-24985329"],(function(e,t,i,r,a,o,n,s,u,f,d,b,c,m,p,l){"use strict";var y=new r.Cartesian2;function h(i){i=e.defaultValue(i,e.defaultValue.EMPTY_OBJECT);var r=i.length,a=i.topRadius,o=i.bottomRadius,n=e.defaultValue(i.slices,128),s=Math.max(e.defaultValue(i.numberOfVerticalLines,16),0);if(t.Check.typeOf.number("options.positions",r),t.Check.typeOf.number("options.topRadius",a),t.Check.typeOf.number("options.bottomRadius",o),t.Check.typeOf.number.greaterThanOrEquals("options.slices",n,3),e.defined(i.offsetAttribute)&&i.offsetAttribute===p.GeometryOffsetAttribute.TOP)throw new t.DeveloperError("GeometryOffsetAttribute.TOP is not a supported options.offsetAttribute for this geometry.");this._length=r,this._topRadius=a,this._bottomRadius=o,this._slices=n,this._numberOfVerticalLines=s,this._offsetAttribute=i.offsetAttribute,this._workerName="createCylinderOutlineGeometry"}h.packedLength=6,h.pack=function(i,r,a){return t.Check.typeOf.object("value",i),t.Check.defined("array",r),a=e.defaultValue(a,0),r[a++]=i._length,r[a++]=i._topRadius,r[a++]=i._bottomRadius,r[a++]=i._slices,r[a++]=i._numberOfVerticalLines,r[a]=e.defaultValue(i._offsetAttribute,-1),r};var _={length:void 0,topRadius:void 0,bottomRadius:void 0,slices:void 0,numberOfVerticalLines:void 0,offsetAttribute:void 0};function v(t,i){return e.defined(i)&&(t=h.unpack(t,i)),h.createGeometry(t)}return h.unpack=function(i,r,a){t.Check.defined("array",i),r=e.defaultValue(r,0);var o=i[r++],n=i[r++],s=i[r++],u=i[r++],f=i[r++],d=i[r];return e.defined(a)?(a._length=o,a._topRadius=n,a._bottomRadius=s,a._slices=u,a._numberOfVerticalLines=f,a._offsetAttribute=-1===d?void 0:d,a):(_.length=o,_.topRadius=n,_.bottomRadius=s,_.slices=u,_.numberOfVerticalLines=f,_.offsetAttribute=-1===d?void 0:d,new h(_))},h.createGeometry=function(t){var o=t._length,n=t._topRadius,s=t._bottomRadius,u=t._slices,h=t._numberOfVerticalLines;if(!(o<=0||n<0||s<0||0===n&&0===s)){var _,v=2*u,A=l.CylinderGeometryLibrary.computePositions(o,n,s,u,!1),O=2*u;if(h>0){var C=Math.min(h,u);_=Math.round(u/C),O+=C}var R,G=m.IndexDatatype.createTypedArray(v,2*O),g=0;for(R=0;R<u-1;R++)G[g++]=R,G[g++]=R+1,G[g++]=R+u,G[g++]=R+1+u;if(G[g++]=u-1,G[g++]=0,G[g++]=u+u-1,G[g++]=u,h>0)for(R=0;R<u;R+=_)G[g++]=R,G[g++]=R+u;var V=new c.GeometryAttributes;V.position=new d.GeometryAttribute({componentDatatype:f.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:A}),y.x=.5*o,y.y=Math.max(s,n);var k=new a.BoundingSphere(i.Cartesian3.ZERO,r.Cartesian2.magnitude(y));if(e.defined(t._offsetAttribute)){o=A.length;var L=new Uint8Array(o/3),w=t._offsetAttribute===p.GeometryOffsetAttribute.NONE?0:1;p.arrayFill(L,w),V.applyOffset=new d.GeometryAttribute({componentDatatype:f.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:L})}return new d.Geometry({attributes:V,indices:G,primitiveType:b.PrimitiveType.LINES,boundingSphere:k,offsetAttribute:t._offsetAttribute})}},v}));