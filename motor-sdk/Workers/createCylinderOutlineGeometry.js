define(["./when-45f3d25d","./Check-34538dad","./Cartesian3-e69091b9","./Cartesian2-7a44370a","./BoundingSphere-bacc5cb6","./Matrix4-c65e6a1b","./RuntimeError-86da6af2","./Rectangle-c7d55cfa","./WebGLConstants-3660bc8f","./ComponentDatatype-86703c58","./GeometryAttribute-4777d9f4","./PrimitiveType-30fa6f85","./Transforms-68229cf3","./GeometryAttributes-9d45f9e2","./IndexDatatype-e52361bd","./GeometryOffsetAttribute-f755a5cb","./CylinderGeometryLibrary-fae5a922"],(function(e,t,i,r,a,o,n,s,u,f,d,b,c,m,p,l,y){"use strict";var h=new r.Cartesian2;function _(i){i=e.defaultValue(i,e.defaultValue.EMPTY_OBJECT);var r=i.length,a=i.topRadius,o=i.bottomRadius,n=e.defaultValue(i.slices,128),s=Math.max(e.defaultValue(i.numberOfVerticalLines,16),0);if(t.Check.typeOf.number("options.positions",r),t.Check.typeOf.number("options.topRadius",a),t.Check.typeOf.number("options.bottomRadius",o),t.Check.typeOf.number.greaterThanOrEquals("options.slices",n,3),e.defined(i.offsetAttribute)&&i.offsetAttribute===l.GeometryOffsetAttribute.TOP)throw new t.DeveloperError("GeometryOffsetAttribute.TOP is not a supported options.offsetAttribute for this geometry.");this._length=r,this._topRadius=a,this._bottomRadius=o,this._slices=n,this._numberOfVerticalLines=s,this._offsetAttribute=i.offsetAttribute,this._workerName="createCylinderOutlineGeometry"}_.packedLength=6,_.pack=function(i,r,a){return t.Check.typeOf.object("value",i),t.Check.defined("array",r),a=e.defaultValue(a,0),r[a++]=i._length,r[a++]=i._topRadius,r[a++]=i._bottomRadius,r[a++]=i._slices,r[a++]=i._numberOfVerticalLines,r[a]=e.defaultValue(i._offsetAttribute,-1),r};var v={length:void 0,topRadius:void 0,bottomRadius:void 0,slices:void 0,numberOfVerticalLines:void 0,offsetAttribute:void 0};function A(t,i){return e.defined(i)&&(t=_.unpack(t,i)),_.createGeometry(t)}return _.unpack=function(i,r,a){t.Check.defined("array",i),r=e.defaultValue(r,0);var o=i[r++],n=i[r++],s=i[r++],u=i[r++],f=i[r++],d=i[r];return e.defined(a)?(a._length=o,a._topRadius=n,a._bottomRadius=s,a._slices=u,a._numberOfVerticalLines=f,a._offsetAttribute=-1===d?void 0:d,a):(v.length=o,v.topRadius=n,v.bottomRadius=s,v.slices=u,v.numberOfVerticalLines=f,v.offsetAttribute=-1===d?void 0:d,new _(v))},_.createGeometry=function(t){var o=t._length,n=t._topRadius,s=t._bottomRadius,u=t._slices,c=t._numberOfVerticalLines;if(!(o<=0||n<0||s<0||0===n&&0===s)){var _,v=2*u,A=y.CylinderGeometryLibrary.computePositions(o,n,s,u,!1),O=2*u;if(c>0){var C=Math.min(c,u);_=Math.round(u/C),O+=C}var R,G=p.IndexDatatype.createTypedArray(v,2*O),g=0;for(R=0;R<u-1;R++)G[g++]=R,G[g++]=R+1,G[g++]=R+u,G[g++]=R+1+u;if(G[g++]=u-1,G[g++]=0,G[g++]=u+u-1,G[g++]=u,c>0)for(R=0;R<u;R+=_)G[g++]=R,G[g++]=R+u;var V=new m.GeometryAttributes;V.position=new d.GeometryAttribute({componentDatatype:f.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:A}),h.x=.5*o,h.y=Math.max(s,n);var k=new a.BoundingSphere(i.Cartesian3.ZERO,r.Cartesian2.magnitude(h));if(e.defined(t._offsetAttribute)){o=A.length;var L=new Uint8Array(o/3),w=t._offsetAttribute===l.GeometryOffsetAttribute.NONE?0:1;l.arrayFill(L,w),V.applyOffset=new d.GeometryAttribute({componentDatatype:f.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:L})}return new d.Geometry({attributes:V,indices:G,primitiveType:b.PrimitiveType.LINES,boundingSphere:k,offsetAttribute:t._offsetAttribute})}},A}));