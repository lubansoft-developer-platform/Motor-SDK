define(["exports","./when-45f3d25d","./Check-34538dad","./Cartesian3-eab74dc0","./RuntimeError-86da6af2"],(function(e,t,n,r,a){"use strict";function c(e,n,r,a,c,o,u,i,f){this[0]=t.defaultValue(e,0),this[1]=t.defaultValue(a,0),this[2]=t.defaultValue(u,0),this[3]=t.defaultValue(n,0),this[4]=t.defaultValue(c,0),this[5]=t.defaultValue(i,0),this[6]=t.defaultValue(r,0),this[7]=t.defaultValue(o,0),this[8]=t.defaultValue(f,0)}c.packedLength=9,c.pack=function(e,r,a){return n.Check.typeOf.object("value",e),n.Check.defined("array",r),a=t.defaultValue(a,0),r[a++]=e[0],r[a++]=e[1],r[a++]=e[2],r[a++]=e[3],r[a++]=e[4],r[a++]=e[5],r[a++]=e[6],r[a++]=e[7],r[a++]=e[8],r},c.unpack=function(e,r,a){return n.Check.defined("array",e),r=t.defaultValue(r,0),t.defined(a)||(a=new c),a[0]=e[r++],a[1]=e[r++],a[2]=e[r++],a[3]=e[r++],a[4]=e[r++],a[5]=e[r++],a[6]=e[r++],a[7]=e[r++],a[8]=e[r++],a},c.clone=function(e,n){if(t.defined(e))return t.defined(n)?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n):new c(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},c.fromArray=function(e,r,a){return n.Check.defined("array",e),r=t.defaultValue(r,0),t.defined(a)||(a=new c),a[0]=e[r],a[1]=e[r+1],a[2]=e[r+2],a[3]=e[r+3],a[4]=e[r+4],a[5]=e[r+5],a[6]=e[r+6],a[7]=e[r+7],a[8]=e[r+8],a},c.fromColumnMajorArray=function(e,t){return n.Check.defined("values",e),c.clone(e,t)},c.fromRowMajorArray=function(e,r){return n.Check.defined("values",e),t.defined(r)?(r[0]=e[0],r[1]=e[3],r[2]=e[6],r[3]=e[1],r[4]=e[4],r[5]=e[7],r[6]=e[2],r[7]=e[5],r[8]=e[8],r):new c(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},c.fromQuaternion=function(e,r){n.Check.typeOf.object("quaternion",e);var a=e.x*e.x,o=e.x*e.y,u=e.x*e.z,i=e.x*e.w,f=e.y*e.y,h=e.y*e.z,s=e.y*e.w,l=e.z*e.z,y=e.z*e.w,p=e.w*e.w,C=a-f-l+p,O=2*(o-y),b=2*(u+s),m=2*(o+y),k=-a+f-l+p,d=2*(h-i),x=2*(u-s),j=2*(h+i),w=-a-f+l+p;return t.defined(r)?(r[0]=C,r[1]=m,r[2]=x,r[3]=O,r[4]=k,r[5]=j,r[6]=b,r[7]=d,r[8]=w,r):new c(C,O,b,m,k,d,x,j,w)},c.fromHeadingPitchRoll=function(e,r){n.Check.typeOf.object("headingPitchRoll",e);var a=Math.cos(-e.pitch),o=Math.cos(-e.heading),u=Math.cos(e.roll),i=Math.sin(-e.pitch),f=Math.sin(-e.heading),h=Math.sin(e.roll),s=a*o,l=-u*f+h*i*o,y=h*f+u*i*o,p=a*f,C=u*o+h*i*f,O=-h*o+u*i*f,b=-i,m=h*a,k=u*a;return t.defined(r)?(r[0]=s,r[1]=p,r[2]=b,r[3]=l,r[4]=C,r[5]=m,r[6]=y,r[7]=O,r[8]=k,r):new c(s,l,y,p,C,O,b,m,k)},c.fromScale=function(e,r){return n.Check.typeOf.object("scale",e),t.defined(r)?(r[0]=e.x,r[1]=0,r[2]=0,r[3]=0,r[4]=e.y,r[5]=0,r[6]=0,r[7]=0,r[8]=e.z,r):new c(e.x,0,0,0,e.y,0,0,0,e.z)},c.fromUniformScale=function(e,r){return n.Check.typeOf.number("scale",e),t.defined(r)?(r[0]=e,r[1]=0,r[2]=0,r[3]=0,r[4]=e,r[5]=0,r[6]=0,r[7]=0,r[8]=e,r):new c(e,0,0,0,e,0,0,0,e)},c.fromCrossProduct=function(e,r){return n.Check.typeOf.object("vector",e),t.defined(r)?(r[0]=0,r[1]=e.z,r[2]=-e.y,r[3]=-e.z,r[4]=0,r[5]=e.x,r[6]=e.y,r[7]=-e.x,r[8]=0,r):new c(0,-e.z,e.y,e.z,0,-e.x,-e.y,e.x,0)},c.fromRotationX=function(e,r){n.Check.typeOf.number("angle",e);var a=Math.cos(e),o=Math.sin(e);return t.defined(r)?(r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=a,r[5]=o,r[6]=0,r[7]=-o,r[8]=a,r):new c(1,0,0,0,a,-o,0,o,a)},c.fromRotationY=function(e,r){n.Check.typeOf.number("angle",e);var a=Math.cos(e),o=Math.sin(e);return t.defined(r)?(r[0]=a,r[1]=0,r[2]=-o,r[3]=0,r[4]=1,r[5]=0,r[6]=o,r[7]=0,r[8]=a,r):new c(a,0,o,0,1,0,-o,0,a)},c.fromRotationZ=function(e,r){n.Check.typeOf.number("angle",e);var a=Math.cos(e),o=Math.sin(e);return t.defined(r)?(r[0]=a,r[1]=o,r[2]=0,r[3]=-o,r[4]=a,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r):new c(a,-o,0,o,a,0,0,0,1)},c.toArray=function(e,r){return n.Check.typeOf.object("matrix",e),t.defined(r)?(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},c.getElementIndex=function(e,t){return n.Check.typeOf.number.greaterThanOrEquals("row",t,0),n.Check.typeOf.number.lessThanOrEquals("row",t,2),n.Check.typeOf.number.greaterThanOrEquals("column",e,0),n.Check.typeOf.number.lessThanOrEquals("column",e,2),3*e+t},c.getColumn=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.number.greaterThanOrEquals("index",t,0),n.Check.typeOf.number.lessThanOrEquals("index",t,2),n.Check.typeOf.object("result",r);var a=3*t,c=e[a],o=e[a+1],u=e[a+2];return r.x=c,r.y=o,r.z=u,r},c.setColumn=function(e,t,r,a){n.Check.typeOf.object("matrix",e),n.Check.typeOf.number.greaterThanOrEquals("index",t,0),n.Check.typeOf.number.lessThanOrEquals("index",t,2),n.Check.typeOf.object("cartesian",r),n.Check.typeOf.object("result",a),a=c.clone(e,a);var o=3*t;return a[o]=r.x,a[o+1]=r.y,a[o+2]=r.z,a},c.getRow=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.number.greaterThanOrEquals("index",t,0),n.Check.typeOf.number.lessThanOrEquals("index",t,2),n.Check.typeOf.object("result",r);var a=e[t],c=e[t+3],o=e[t+6];return r.x=a,r.y=c,r.z=o,r},c.setRow=function(e,t,r,a){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.number.greaterThanOrEquals("index",t,0),n.Check.typeOf.number.lessThanOrEquals("index",t,2),n.Check.typeOf.object("cartesian",r),n.Check.typeOf.object("result",a),a=c.clone(e,a),a[t]=r.x,a[t+3]=r.y,a[t+6]=r.z,a};var o=new r.Cartesian3;c.getScale=function(e,t){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t),t.x=r.Cartesian3.magnitude(r.Cartesian3.fromElements(e[0],e[1],e[2],o)),t.y=r.Cartesian3.magnitude(r.Cartesian3.fromElements(e[3],e[4],e[5],o)),t.z=r.Cartesian3.magnitude(r.Cartesian3.fromElements(e[6],e[7],e[8],o)),t};var u=new r.Cartesian3;c.getMaximumScale=function(e){return c.getScale(e,u),r.Cartesian3.maximumComponent(u)},c.multiply=function(e,t,r){n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r);var a=e[0]*t[0]+e[3]*t[1]+e[6]*t[2],c=e[1]*t[0]+e[4]*t[1]+e[7]*t[2],o=e[2]*t[0]+e[5]*t[1]+e[8]*t[2],u=e[0]*t[3]+e[3]*t[4]+e[6]*t[5],i=e[1]*t[3]+e[4]*t[4]+e[7]*t[5],f=e[2]*t[3]+e[5]*t[4]+e[8]*t[5],h=e[0]*t[6]+e[3]*t[7]+e[6]*t[8],s=e[1]*t[6]+e[4]*t[7]+e[7]*t[8],l=e[2]*t[6]+e[5]*t[7]+e[8]*t[8];return r[0]=a,r[1]=c,r[2]=o,r[3]=u,r[4]=i,r[5]=f,r[6]=h,r[7]=s,r[8]=l,r},c.add=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r[4]=e[4]+t[4],r[5]=e[5]+t[5],r[6]=e[6]+t[6],r[7]=e[7]+t[7],r[8]=e[8]+t[8],r},c.subtract=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r[3]=e[3]-t[3],r[4]=e[4]-t[4],r[5]=e[5]-t[5],r[6]=e[6]-t[6],r[7]=e[7]-t[7],r[8]=e[8]-t[8],r},c.multiplyByVector=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("cartesian",t),n.Check.typeOf.object("result",r);var a=t.x,c=t.y,o=t.z,u=e[0]*a+e[3]*c+e[6]*o,i=e[1]*a+e[4]*c+e[7]*o,f=e[2]*a+e[5]*c+e[8]*o;return r.x=u,r.y=i,r.z=f,r},c.multiplyByScalar=function(e,t,r){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.number("scalar",t),n.Check.typeOf.object("result",r),r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r[4]=e[4]*t,r[5]=e[5]*t,r[6]=e[6]*t,r[7]=e[7]*t,r[8]=e[8]*t,r},c.multiplyByScale=function(e,t,r){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("scale",t),n.Check.typeOf.object("result",r),r[0]=e[0]*t.x,r[1]=e[1]*t.x,r[2]=e[2]*t.x,r[3]=e[3]*t.y,r[4]=e[4]*t.y,r[5]=e[5]*t.y,r[6]=e[6]*t.z,r[7]=e[7]*t.z,r[8]=e[8]*t.z,r},c.negate=function(e,t){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t),t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t},c.transpose=function(e,t){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t);var r=e[0],a=e[3],c=e[6],o=e[1],u=e[4],i=e[7],f=e[2],h=e[5],s=e[8];return t[0]=r,t[1]=a,t[2]=c,t[3]=o,t[4]=u,t[5]=i,t[6]=f,t[7]=h,t[8]=s,t};var i=new r.Cartesian3(1,1,1);function f(e){for(var t=0,n=0;n<9;++n){var r=e[n];t+=r*r}return Math.sqrt(t)}c.getRotation=function(e,t){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t);var a=r.Cartesian3.divideComponents(i,c.getScale(e,u),u);return t=c.multiplyByScale(e,a,t),t};var h=[1,0,0],s=[2,2,1];function l(e){for(var t=0,n=0;n<3;++n){var r=e[c.getElementIndex(s[n],h[n])];t+=2*r*r}return Math.sqrt(t)}function y(e,t){for(var n=r.CesiumMath.EPSILON15,a=0,o=1,u=0;u<3;++u){var i=Math.abs(e[c.getElementIndex(s[u],h[u])]);i>a&&(o=u,a=i)}var f=1,l=0,y=h[o],p=s[o];if(Math.abs(e[c.getElementIndex(p,y)])>n){var C,O=e[c.getElementIndex(p,p)],b=e[c.getElementIndex(y,y)],m=e[c.getElementIndex(p,y)],k=(O-b)/2/m;C=k<0?-1/(-k+Math.sqrt(1+k*k)):1/(k+Math.sqrt(1+k*k)),f=1/Math.sqrt(1+C*C),l=C*f}return t=c.clone(c.IDENTITY,t),t[c.getElementIndex(y,y)]=t[c.getElementIndex(p,p)]=f,t[c.getElementIndex(p,y)]=l,t[c.getElementIndex(y,p)]=-l,t}var p=new c,C=new c;function O(e,n,r,a){this.x=t.defaultValue(e,0),this.y=t.defaultValue(n,0),this.z=t.defaultValue(r,0),this.w=t.defaultValue(a,0)}c.computeEigenDecomposition=function(e,a){n.Check.typeOf.object("matrix",e);var o=r.CesiumMath.EPSILON20,u=10,i=0,h=0;t.defined(a)||(a={});var s=a.unitary=c.clone(c.IDENTITY,a.unitary),O=a.diagonal=c.clone(e,a.diagonal),b=o*f(O);while(h<u&&l(O)>b)y(O,p),c.transpose(p,C),c.multiply(O,p,O),c.multiply(C,O,O),c.multiply(s,p,s),++i>2&&(++h,i=0);return a},c.abs=function(e,t){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t),t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t},c.determinant=function(e){n.Check.typeOf.object("matrix",e);var t=e[0],r=e[3],a=e[6],c=e[1],o=e[4],u=e[7],i=e[2],f=e[5],h=e[8];return t*(o*h-f*u)+c*(f*a-r*h)+i*(r*u-o*a)},c.inverse=function(e,t){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t);var a=e[0],o=e[1],u=e[2],i=e[3],f=e[4],h=e[5],s=e[6],l=e[7],y=e[8],p=c.determinant(e);if(Math.abs(p)<=r.CesiumMath.EPSILON15)throw new n.DeveloperError("matrix is not invertible");t[0]=f*y-l*h,t[1]=l*u-o*y,t[2]=o*h-f*u,t[3]=s*h-i*y,t[4]=a*y-s*u,t[5]=i*u-a*h,t[6]=i*l-s*f,t[7]=s*o-a*l,t[8]=a*f-i*o;var C=1/p;return c.multiplyByScalar(t,C,t)},c.equals=function(e,n){return e===n||t.defined(e)&&t.defined(n)&&e[0]===n[0]&&e[1]===n[1]&&e[2]===n[2]&&e[3]===n[3]&&e[4]===n[4]&&e[5]===n[5]&&e[6]===n[6]&&e[7]===n[7]&&e[8]===n[8]},c.equalsEpsilon=function(e,n,r){return r=t.defaultValue(r,0),e===n||t.defined(e)&&t.defined(n)&&Math.abs(e[0]-n[0])<=r&&Math.abs(e[1]-n[1])<=r&&Math.abs(e[2]-n[2])<=r&&Math.abs(e[3]-n[3])<=r&&Math.abs(e[4]-n[4])<=r&&Math.abs(e[5]-n[5])<=r&&Math.abs(e[6]-n[6])<=r&&Math.abs(e[7]-n[7])<=r&&Math.abs(e[8]-n[8])<=r},c.IDENTITY=Object.freeze(new c(1,0,0,0,1,0,0,0,1)),c.ZERO=Object.freeze(new c(0,0,0,0,0,0,0,0,0)),c.COLUMN0ROW0=0,c.COLUMN0ROW1=1,c.COLUMN0ROW2=2,c.COLUMN1ROW0=3,c.COLUMN1ROW1=4,c.COLUMN1ROW2=5,c.COLUMN2ROW0=6,c.COLUMN2ROW1=7,c.COLUMN2ROW2=8,Object.defineProperties(c.prototype,{length:{get:function(){return c.packedLength}}}),c.prototype.clone=function(e){return c.clone(this,e)},c.prototype.equals=function(e){return c.equals(this,e)},c.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]},c.prototype.equalsEpsilon=function(e,t){return c.equalsEpsilon(this,e,t)},c.prototype.toString=function(){return"("+this[0]+", "+this[3]+", "+this[6]+")\n("+this[1]+", "+this[4]+", "+this[7]+")\n("+this[2]+", "+this[5]+", "+this[8]+")"},O.fromElements=function(e,n,r,a,c){return t.defined(c)?(c.x=e,c.y=n,c.z=r,c.w=a,c):new O(e,n,r,a)},O.fromColor=function(e,r){return n.Check.typeOf.object("color",e),t.defined(r)?(r.x=e.red,r.y=e.green,r.z=e.blue,r.w=e.alpha,r):new O(e.red,e.green,e.blue,e.alpha)},O.clone=function(e,n){if(t.defined(e))return t.defined(n)?(n.x=e.x,n.y=e.y,n.z=e.z,n.w=e.w,n):new O(e.x,e.y,e.z,e.w)},O.packedLength=4,O.pack=function(e,r,a){return n.Check.typeOf.object("value",e),n.Check.defined("array",r),a=t.defaultValue(a,0),r[a++]=e.x,r[a++]=e.y,r[a++]=e.z,r[a]=e.w,r},O.unpack=function(e,r,a){return n.Check.defined("array",e),r=t.defaultValue(r,0),t.defined(a)||(a=new O),a.x=e[r++],a.y=e[r++],a.z=e[r++],a.w=e[r],a},O.packArray=function(e,r){n.Check.defined("array",e);var a=e.length,c=4*a;if(t.defined(r)){if(!Array.isArray(r)&&r.length!==c)throw new n.DeveloperError("If result is a typed array, it must have exactly array.length * 4 elements");r.length!==c&&(r.length=c)}else r=new Array(c);for(var o=0;o<a;++o)O.pack(e[o],r,4*o);return r},O.unpackArray=function(e,r){if(n.Check.defined("array",e),n.Check.typeOf.number.greaterThanOrEquals("array.length",e.length,4),e.length%4!==0)throw new n.DeveloperError("array length must be a multiple of 4.");var a=e.length;t.defined(r)?r.length=a/4:r=new Array(a/4);for(var c=0;c<a;c+=4){var o=c/4;r[o]=O.unpack(e,c,r[o])}return r},O.fromArray=O.unpack,O.maximumComponent=function(e){return n.Check.typeOf.object("cartesian",e),Math.max(e.x,e.y,e.z,e.w)},O.minimumComponent=function(e){return n.Check.typeOf.object("cartesian",e),Math.min(e.x,e.y,e.z,e.w)},O.minimumByComponent=function(e,t,r){return n.Check.typeOf.object("first",e),n.Check.typeOf.object("second",t),n.Check.typeOf.object("result",r),r.x=Math.min(e.x,t.x),r.y=Math.min(e.y,t.y),r.z=Math.min(e.z,t.z),r.w=Math.min(e.w,t.w),r},O.maximumByComponent=function(e,t,r){return n.Check.typeOf.object("first",e),n.Check.typeOf.object("second",t),n.Check.typeOf.object("result",r),r.x=Math.max(e.x,t.x),r.y=Math.max(e.y,t.y),r.z=Math.max(e.z,t.z),r.w=Math.max(e.w,t.w),r},O.magnitudeSquared=function(e){return n.Check.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},O.magnitude=function(e){return Math.sqrt(O.magnitudeSquared(e))};var b=new O;O.distance=function(e,t){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),O.subtract(e,t,b),O.magnitude(b)},O.distanceSquared=function(e,t){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),O.subtract(e,t,b),O.magnitudeSquared(b)},O.normalize=function(e,t){n.Check.typeOf.object("cartesian",e),n.Check.typeOf.object("result",t);var r=O.magnitude(e);if(t.x=e.x/r,t.y=e.y/r,t.z=e.z/r,t.w=e.w/r,isNaN(t.x)||isNaN(t.y)||isNaN(t.z)||isNaN(t.w))throw new n.DeveloperError("normalized result is not a number");return t},O.dot=function(e,t){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},O.multiplyComponents=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r.x=e.x*t.x,r.y=e.y*t.y,r.z=e.z*t.z,r.w=e.w*t.w,r},O.divideComponents=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r.x=e.x/t.x,r.y=e.y/t.y,r.z=e.z/t.z,r.w=e.w/t.w,r},O.add=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r.x=e.x+t.x,r.y=e.y+t.y,r.z=e.z+t.z,r.w=e.w+t.w,r},O.subtract=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r.x=e.x-t.x,r.y=e.y-t.y,r.z=e.z-t.z,r.w=e.w-t.w,r},O.multiplyByScalar=function(e,t,r){return n.Check.typeOf.object("cartesian",e),n.Check.typeOf.number("scalar",t),n.Check.typeOf.object("result",r),r.x=e.x*t,r.y=e.y*t,r.z=e.z*t,r.w=e.w*t,r},O.divideByScalar=function(e,t,r){return n.Check.typeOf.object("cartesian",e),n.Check.typeOf.number("scalar",t),n.Check.typeOf.object("result",r),r.x=e.x/t,r.y=e.y/t,r.z=e.z/t,r.w=e.w/t,r},O.negate=function(e,t){return n.Check.typeOf.object("cartesian",e),n.Check.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},O.abs=function(e,t){return n.Check.typeOf.object("cartesian",e),n.Check.typeOf.object("result",t),t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t.w=Math.abs(e.w),t};var m=new O;O.lerp=function(e,t,r,a){return n.Check.typeOf.object("start",e),n.Check.typeOf.object("end",t),n.Check.typeOf.number("t",r),n.Check.typeOf.object("result",a),O.multiplyByScalar(t,r,m),a=O.multiplyByScalar(e,1-r,a),O.add(m,a,a)};var k=new O;O.mostOrthogonalAxis=function(e,t){n.Check.typeOf.object("cartesian",e),n.Check.typeOf.object("result",t);var r=O.normalize(e,k);return O.abs(r,r),t=r.x<=r.y?r.x<=r.z?r.x<=r.w?O.clone(O.UNIT_X,t):O.clone(O.UNIT_W,t):r.z<=r.w?O.clone(O.UNIT_Z,t):O.clone(O.UNIT_W,t):r.y<=r.z?r.y<=r.w?O.clone(O.UNIT_Y,t):O.clone(O.UNIT_W,t):r.z<=r.w?O.clone(O.UNIT_Z,t):O.clone(O.UNIT_W,t),t},O.equals=function(e,n){return e===n||t.defined(e)&&t.defined(n)&&e.x===n.x&&e.y===n.y&&e.z===n.z&&e.w===n.w},O.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]&&e.z===t[n+2]&&e.w===t[n+3]},O.equalsEpsilon=function(e,n,a,c){return e===n||t.defined(e)&&t.defined(n)&&r.CesiumMath.equalsEpsilon(e.x,n.x,a,c)&&r.CesiumMath.equalsEpsilon(e.y,n.y,a,c)&&r.CesiumMath.equalsEpsilon(e.z,n.z,a,c)&&r.CesiumMath.equalsEpsilon(e.w,n.w,a,c)},O.ZERO=Object.freeze(new O(0,0,0,0)),O.UNIT_X=Object.freeze(new O(1,0,0,0)),O.UNIT_Y=Object.freeze(new O(0,1,0,0)),O.UNIT_Z=Object.freeze(new O(0,0,1,0)),O.UNIT_W=Object.freeze(new O(0,0,0,1)),O.prototype.clone=function(e){return O.clone(this,e)},O.prototype.equals=function(e){return O.equals(this,e)},O.prototype.equalsEpsilon=function(e,t,n){return O.equalsEpsilon(this,e,t,n)},O.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"};var d=new Float32Array(1),x=256,j=65536,w=16777216,M=1/x,z=1/j,g=1/w,v=38;function E(e,n,r,a,c,o,u,i,f,h,s,l,y,p,C,O){this[0]=t.defaultValue(e,1),this[1]=t.defaultValue(c,0),this[2]=t.defaultValue(f,0),this[3]=t.defaultValue(y,0),this[4]=t.defaultValue(n,0),this[5]=t.defaultValue(o,1),this[6]=t.defaultValue(h,0),this[7]=t.defaultValue(p,0),this[8]=t.defaultValue(r,0),this[9]=t.defaultValue(u,0),this[10]=t.defaultValue(s,1),this[11]=t.defaultValue(C,0),this[12]=t.defaultValue(a,0),this[13]=t.defaultValue(i,0),this[14]=t.defaultValue(l,0),this[15]=t.defaultValue(O,1)}O.packFloat=function(e,a){if(n.Check.typeOf.number("value",e),t.defined(a)||(a=new O),d[0]=e,e=d[0],0===e)return O.clone(O.ZERO,a);var c,o=e<0?1:0;isFinite(e)?(e=Math.abs(e),c=Math.floor(r.CesiumMath.logBase(e,10))+1,e/=Math.pow(10,c)):(e=.1,c=v);var u=e*x;return a.x=Math.floor(u),u=(u-a.x)*x,a.y=Math.floor(u),u=(u-a.y)*x,a.z=Math.floor(u),a.w=2*(c+v)+o,a},O.unpackFloat=function(e){n.Check.typeOf.object("packedFloat",e);var t=e.w/2,r=Math.floor(t),a=2*(t-r);if(r-=v,a=2*a-1,a=-a,r>=v)return a<0?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY;var c=a*e.x*M;return c+=a*e.y*z,c+=a*e.z*g,c*Math.pow(10,r)},E.packedLength=16,E.pack=function(e,r,a){return n.Check.typeOf.object("value",e),n.Check.defined("array",r),a=t.defaultValue(a,0),r[a++]=e[0],r[a++]=e[1],r[a++]=e[2],r[a++]=e[3],r[a++]=e[4],r[a++]=e[5],r[a++]=e[6],r[a++]=e[7],r[a++]=e[8],r[a++]=e[9],r[a++]=e[10],r[a++]=e[11],r[a++]=e[12],r[a++]=e[13],r[a++]=e[14],r[a]=e[15],r},E.unpack=function(e,r,a){return n.Check.defined("array",e),r=t.defaultValue(r,0),t.defined(a)||(a=new E),a[0]=e[r++],a[1]=e[r++],a[2]=e[r++],a[3]=e[r++],a[4]=e[r++],a[5]=e[r++],a[6]=e[r++],a[7]=e[r++],a[8]=e[r++],a[9]=e[r++],a[10]=e[r++],a[11]=e[r++],a[12]=e[r++],a[13]=e[r++],a[14]=e[r++],a[15]=e[r],a},E.clone=function(e,n){if(t.defined(e))return t.defined(n)?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n):new E(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},E.fromArray=E.unpack,E.fromColumnMajorArray=function(e,t){return n.Check.defined("values",e),E.clone(e,t)},E.fromRowMajorArray=function(e,r){return n.Check.defined("values",e),t.defined(r)?(r[0]=e[0],r[1]=e[4],r[2]=e[8],r[3]=e[12],r[4]=e[1],r[5]=e[5],r[6]=e[9],r[7]=e[13],r[8]=e[2],r[9]=e[6],r[10]=e[10],r[11]=e[14],r[12]=e[3],r[13]=e[7],r[14]=e[11],r[15]=e[15],r):new E(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},E.fromRotationTranslation=function(e,a,c){return n.Check.typeOf.object("rotation",e),a=t.defaultValue(a,r.Cartesian3.ZERO),t.defined(c)?(c[0]=e[0],c[1]=e[1],c[2]=e[2],c[3]=0,c[4]=e[3],c[5]=e[4],c[6]=e[5],c[7]=0,c[8]=e[6],c[9]=e[7],c[10]=e[8],c[11]=0,c[12]=a.x,c[13]=a.y,c[14]=a.z,c[15]=1,c):new E(e[0],e[3],e[6],a.x,e[1],e[4],e[7],a.y,e[2],e[5],e[8],a.z,0,0,0,1)},E.fromTranslationQuaternionRotationScale=function(e,r,a,c){n.Check.typeOf.object("translation",e),n.Check.typeOf.object("rotation",r),n.Check.typeOf.object("scale",a),t.defined(c)||(c=new E);var o=a.x,u=a.y,i=a.z,f=r.x*r.x,h=r.x*r.y,s=r.x*r.z,l=r.x*r.w,y=r.y*r.y,p=r.y*r.z,C=r.y*r.w,O=r.z*r.z,b=r.z*r.w,m=r.w*r.w,k=f-y-O+m,d=2*(h-b),x=2*(s+C),j=2*(h+b),w=-f+y-O+m,M=2*(p-l),z=2*(s-C),g=2*(p+l),v=-f-y+O+m;return c[0]=k*o,c[1]=j*o,c[2]=z*o,c[3]=0,c[4]=d*u,c[5]=w*u,c[6]=g*u,c[7]=0,c[8]=x*i,c[9]=M*i,c[10]=v*i,c[11]=0,c[12]=e.x,c[13]=e.y,c[14]=e.z,c[15]=1,c},E.fromTranslationRotationScale=function(e,t){return n.Check.typeOf.object("translationRotationScale",e),E.fromTranslationQuaternionRotationScale(e.translation,e.rotation,e.scale,t)},E.fromTranslation=function(e,t){return n.Check.typeOf.object("translation",e),E.fromRotationTranslation(c.IDENTITY,e,t)},E.fromScale=function(e,r){return n.Check.typeOf.object("scale",e),t.defined(r)?(r[0]=e.x,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=e.y,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=e.z,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r):new E(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},E.fromUniformScale=function(e,r){return n.Check.typeOf.number("scale",e),t.defined(r)?(r[0]=e,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=e,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=e,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r):new E(e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1)};var T=new r.Cartesian3,q=new r.Cartesian3,N=new r.Cartesian3,V=new r.Cartesian3;E.fromCamera=function(e,t){n.Check.typeOf.object("camera",e);var r=e.position,a=e.direction,c=e.up;return n.Check.typeOf.object("camera.position",r),n.Check.typeOf.object("camera.direction",a),n.Check.typeOf.object("camera.up",c),E.fromCameraDetail(r,a,c,t)},E.fromCoordSysTransform=function(e,t,n,a){return r.Cartesian3.cross(t,n,V),E.fromCameraDetail(e,n,V,a)},E.fromCameraDetail=function(e,n,a,c){r.Cartesian3.normalize(n,T),r.Cartesian3.normalize(r.Cartesian3.cross(T,a,q),q),r.Cartesian3.normalize(r.Cartesian3.cross(q,T,N),N);var o=q.x,u=q.y,i=q.z,f=T.x,h=T.y,s=T.z,l=N.x,y=N.y,p=N.z,C=e.x,O=e.y,b=e.z,m=o*-C+u*-O+i*-b,k=l*-C+y*-O+p*-b,d=f*C+h*O+s*b;return t.defined(c)?(c[0]=o,c[1]=l,c[2]=-f,c[3]=0,c[4]=u,c[5]=y,c[6]=-h,c[7]=0,c[8]=i,c[9]=p,c[10]=-s,c[11]=0,c[12]=m,c[13]=k,c[14]=d,c[15]=1,c):new E(o,u,i,m,l,y,p,k,-f,-h,-s,d,0,0,0,1)},E.computePerspectiveFieldOfView=function(e,t,r,a,c){n.Check.typeOf.number.greaterThan("fovY",e,0),n.Check.typeOf.number.lessThan("fovY",e,Math.PI),n.Check.typeOf.number.greaterThan("near",r,0),n.Check.typeOf.number.greaterThan("far",a,0),n.Check.typeOf.object("result",c);var o=Math.tan(.5*e),u=1/o,i=u/t,f=(a+r)/(r-a),h=2*a*r/(r-a);return c[0]=i,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=u,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=f,c[11]=-1,c[12]=0,c[13]=0,c[14]=h,c[15]=0,c},E.computeOrthographicOffCenter=function(e,t,r,a,c,o,u){n.Check.typeOf.number("left",e),n.Check.typeOf.number("right",t),n.Check.typeOf.number("bottom",r),n.Check.typeOf.number("top",a),n.Check.typeOf.number("near",c),n.Check.typeOf.number("far",o),n.Check.typeOf.object("result",u);var i=1/(t-e),f=1/(a-r),h=1/(o-c),s=-(t+e)*i,l=-(a+r)*f,y=-(o+c)*h;return i*=2,f*=2,h*=-2,u[0]=i,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=f,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=h,u[11]=0,u[12]=s,u[13]=l,u[14]=y,u[15]=1,u},E.computePerspectiveOffCenter=function(e,t,r,a,c,o,u){n.Check.typeOf.number("left",e),n.Check.typeOf.number("right",t),n.Check.typeOf.number("bottom",r),n.Check.typeOf.number("top",a),n.Check.typeOf.number("near",c),n.Check.typeOf.number("far",o),n.Check.typeOf.object("result",u);var i=2*c/(t-e),f=2*c/(a-r),h=(t+e)/(t-e),s=(a+r)/(a-r),l=-(o+c)/(o-c),y=-1,p=-2*o*c/(o-c);return u[0]=i,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=f,u[6]=0,u[7]=0,u[8]=h,u[9]=s,u[10]=l,u[11]=y,u[12]=0,u[13]=0,u[14]=p,u[15]=0,u},E.computeInfinitePerspectiveOffCenter=function(e,t,r,a,c,o){n.Check.typeOf.number("left",e),n.Check.typeOf.number("right",t),n.Check.typeOf.number("bottom",r),n.Check.typeOf.number("top",a),n.Check.typeOf.number("near",c),n.Check.typeOf.object("result",o);var u=2*c/(t-e),i=2*c/(a-r),f=(t+e)/(t-e),h=(a+r)/(a-r),s=-1,l=-1,y=-2*c;return o[0]=u,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=i,o[6]=0,o[7]=0,o[8]=f,o[9]=h,o[10]=s,o[11]=l,o[12]=0,o[13]=0,o[14]=y,o[15]=0,o},E.computeViewportTransformation=function(e,n,r,a){a||(a=new E),e=t.defaultValue(e,t.defaultValue.EMPTY_OBJECT);var c=t.defaultValue(e.x,0),o=t.defaultValue(e.y,0),u=t.defaultValue(e.width,0),i=t.defaultValue(e.height,0);n=t.defaultValue(n,0),r=t.defaultValue(r,1);var f=.5*u,h=.5*i,s=.5*(r-n),l=f,y=h,p=s,C=c+f,O=o+h,b=n+s,m=1;return a[0]=l,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=y,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=p,a[11]=0,a[12]=C,a[13]=O,a[14]=b,a[15]=m,a},E.computeView=function(e,t,a,c,o){return n.Check.typeOf.object("position",e),n.Check.typeOf.object("direction",t),n.Check.typeOf.object("up",a),n.Check.typeOf.object("right",c),n.Check.typeOf.object("result",o),o[0]=c.x,o[1]=a.x,o[2]=-t.x,o[3]=0,o[4]=c.y,o[5]=a.y,o[6]=-t.y,o[7]=0,o[8]=c.z,o[9]=a.z,o[10]=-t.z,o[11]=0,o[12]=-r.Cartesian3.dot(c,e),o[13]=-r.Cartesian3.dot(a,e),o[14]=r.Cartesian3.dot(t,e),o[15]=1,o},E.toArray=function(e,r){return n.Check.typeOf.object("matrix",e),t.defined(r)?(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},E.getElementIndex=function(e,t){return n.Check.typeOf.number.greaterThanOrEquals("row",t,0),n.Check.typeOf.number.lessThanOrEquals("row",t,3),n.Check.typeOf.number.greaterThanOrEquals("column",e,0),n.Check.typeOf.number.lessThanOrEquals("column",e,3),4*e+t},E.getColumn=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.number.greaterThanOrEquals("index",t,0),n.Check.typeOf.number.lessThanOrEquals("index",t,3),n.Check.typeOf.object("result",r);var a=4*t,c=e[a],o=e[a+1],u=e[a+2],i=e[a+3];return r.x=c,r.y=o,r.z=u,r.w=i,r},E.setColumn=function(e,t,r,a){n.Check.typeOf.object("matrix",e),n.Check.typeOf.number.greaterThanOrEquals("index",t,0),n.Check.typeOf.number.lessThanOrEquals("index",t,3),n.Check.typeOf.object("cartesian",r),n.Check.typeOf.object("result",a),a=E.clone(e,a);var c=4*t;return a[c]=r.x,a[c+1]=r.y,a[c+2]=r.z,a[c+3]=r.w,a},E.setTranslation=function(e,t,r){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("translation",t),n.Check.typeOf.object("result",r),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=e[15],r},E.addTransform=function(e,t,r){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("translation",t),n.Check.typeOf.object("result",r),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12]+t.x,r[13]=e[13]+t.y,r[14]=e[14]+t.z,r[15]=e[15],r},E.subTransform=function(e,t,r){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("translation",t),n.Check.typeOf.object("result",r),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12]-t.x,r[13]=e[13]-t.y,r[14]=e[14]-t.z,r[15]=e[15],r};var I=new r.Cartesian3;E.setScale=function(e,t,a){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("scale",t),n.Check.typeOf.object("result",a);var c=E.getScale(e,I),o=r.Cartesian3.divideComponents(t,c,I);return E.multiplyByScale(e,o,a)},E.getRow=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.number.greaterThanOrEquals("index",t,0),n.Check.typeOf.number.lessThanOrEquals("index",t,3),n.Check.typeOf.object("result",r);var a=e[t],c=e[t+4],o=e[t+8],u=e[t+12];return r.x=a,r.y=c,r.z=o,r.w=u,r},E.setRow=function(e,t,r,a){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.number.greaterThanOrEquals("index",t,0),n.Check.typeOf.number.lessThanOrEquals("index",t,3),n.Check.typeOf.object("cartesian",r),n.Check.typeOf.object("result",a),a=E.clone(e,a),a[t]=r.x,a[t+4]=r.y,a[t+8]=r.z,a[t+12]=r.w,a};var R=new r.Cartesian3;E.getScale=function(e,t){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t),t.x=r.Cartesian3.magnitude(r.Cartesian3.fromElements(e[0],e[1],e[2],R)),t.y=r.Cartesian3.magnitude(r.Cartesian3.fromElements(e[4],e[5],e[6],R)),t.z=r.Cartesian3.magnitude(r.Cartesian3.fromElements(e[8],e[9],e[10],R)),t};var S=new r.Cartesian3;E.getMaximumScale=function(e){return E.getScale(e,S),r.Cartesian3.maximumComponent(S)},E.multiply=function(e,t,r){n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r);var a=e[0],c=e[1],o=e[2],u=e[3],i=e[4],f=e[5],h=e[6],s=e[7],l=e[8],y=e[9],p=e[10],C=e[11],O=e[12],b=e[13],m=e[14],k=e[15],d=t[0],x=t[1],j=t[2],w=t[3],M=t[4],z=t[5],g=t[6],v=t[7],E=t[8],T=t[9],q=t[10],N=t[11],V=t[12],I=t[13],R=t[14],S=t[15],U=a*d+i*x+l*j+O*w,L=c*d+f*x+y*j+b*w,W=o*d+h*x+p*j+m*w,B=u*d+s*x+C*j+k*w,A=a*M+i*z+l*g+O*v,P=c*M+f*z+y*g+b*v,_=o*M+h*z+p*g+m*v,D=u*M+s*z+C*g+k*v,Y=a*E+i*T+l*q+O*N,Z=c*E+f*T+y*q+b*N,F=o*E+h*T+p*q+m*N,Q=u*E+s*T+C*q+k*N,X=a*V+i*I+l*R+O*S,G=c*V+f*I+y*R+b*S,H=o*V+h*I+p*R+m*S,J=u*V+s*I+C*R+k*S;return r[0]=U,r[1]=L,r[2]=W,r[3]=B,r[4]=A,r[5]=P,r[6]=_,r[7]=D,r[8]=Y,r[9]=Z,r[10]=F,r[11]=Q,r[12]=X,r[13]=G,r[14]=H,r[15]=J,r},E.add=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r[4]=e[4]+t[4],r[5]=e[5]+t[5],r[6]=e[6]+t[6],r[7]=e[7]+t[7],r[8]=e[8]+t[8],r[9]=e[9]+t[9],r[10]=e[10]+t[10],r[11]=e[11]+t[11],r[12]=e[12]+t[12],r[13]=e[13]+t[13],r[14]=e[14]+t[14],r[15]=e[15]+t[15],r},E.subtract=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r[3]=e[3]-t[3],r[4]=e[4]-t[4],r[5]=e[5]-t[5],r[6]=e[6]-t[6],r[7]=e[7]-t[7],r[8]=e[8]-t[8],r[9]=e[9]-t[9],r[10]=e[10]-t[10],r[11]=e[11]-t[11],r[12]=e[12]-t[12],r[13]=e[13]-t[13],r[14]=e[14]-t[14],r[15]=e[15]-t[15],r},E.multiplyTransformation=function(e,t,r){n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r);var a=e[0],c=e[1],o=e[2],u=e[4],i=e[5],f=e[6],h=e[8],s=e[9],l=e[10],y=e[12],p=e[13],C=e[14],O=t[0],b=t[1],m=t[2],k=t[4],d=t[5],x=t[6],j=t[8],w=t[9],M=t[10],z=t[12],g=t[13],v=t[14],E=a*O+u*b+h*m,T=c*O+i*b+s*m,q=o*O+f*b+l*m,N=a*k+u*d+h*x,V=c*k+i*d+s*x,I=o*k+f*d+l*x,R=a*j+u*w+h*M,S=c*j+i*w+s*M,U=o*j+f*w+l*M,L=a*z+u*g+h*v+y,W=c*z+i*g+s*v+p,B=o*z+f*g+l*v+C;return r[0]=E,r[1]=T,r[2]=q,r[3]=0,r[4]=N,r[5]=V,r[6]=I,r[7]=0,r[8]=R,r[9]=S,r[10]=U,r[11]=0,r[12]=L,r[13]=W,r[14]=B,r[15]=1,r},E.multiplyByMatrix3=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("rotation",t),n.Check.typeOf.object("result",r);var a=e[0],c=e[1],o=e[2],u=e[4],i=e[5],f=e[6],h=e[8],s=e[9],l=e[10],y=t[0],p=t[1],C=t[2],O=t[3],b=t[4],m=t[5],k=t[6],d=t[7],x=t[8],j=a*y+u*p+h*C,w=c*y+i*p+s*C,M=o*y+f*p+l*C,z=a*O+u*b+h*m,g=c*O+i*b+s*m,v=o*O+f*b+l*m,E=a*k+u*d+h*x,T=c*k+i*d+s*x,q=o*k+f*d+l*x;return r[0]=j,r[1]=w,r[2]=M,r[3]=0,r[4]=z,r[5]=g,r[6]=v,r[7]=0,r[8]=E,r[9]=T,r[10]=q,r[11]=0,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r},E.multiplyByTranslation=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("translation",t),n.Check.typeOf.object("result",r);var a=t.x,c=t.y,o=t.z,u=a*e[0]+c*e[4]+o*e[8]+e[12],i=a*e[1]+c*e[5]+o*e[9]+e[13],f=a*e[2]+c*e[6]+o*e[10]+e[14];return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=u,r[13]=i,r[14]=f,r[15]=e[15],r};var U=new r.Cartesian3;E.multiplyByUniformScale=function(e,t,r){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.number("scale",t),n.Check.typeOf.object("result",r),U.x=t,U.y=t,U.z=t,E.multiplyByScale(e,U,r)},E.multiplyByScale=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("scale",t),n.Check.typeOf.object("result",r);var a=t.x,c=t.y,o=t.z;return 1===a&&1===c&&1===o?E.clone(e,r):(r[0]=a*e[0],r[1]=a*e[1],r[2]=a*e[2],r[3]=0,r[4]=c*e[4],r[5]=c*e[5],r[6]=c*e[6],r[7]=0,r[8]=o*e[8],r[9]=o*e[9],r[10]=o*e[10],r[11]=0,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=1,r)},E.multiplyByVector=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("cartesian",t),n.Check.typeOf.object("result",r);var a=t.x,c=t.y,o=t.z,u=t.w,i=e[0]*a+e[4]*c+e[8]*o+e[12]*u,f=e[1]*a+e[5]*c+e[9]*o+e[13]*u,h=e[2]*a+e[6]*c+e[10]*o+e[14]*u,s=e[3]*a+e[7]*c+e[11]*o+e[15]*u;return r.x=i,r.y=f,r.z=h,r.w=s,r},E.multiplyByPointAsVector=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("cartesian",t),n.Check.typeOf.object("result",r);var a=t.x,c=t.y,o=t.z,u=e[0]*a+e[4]*c+e[8]*o,i=e[1]*a+e[5]*c+e[9]*o,f=e[2]*a+e[6]*c+e[10]*o;return r.x=u,r.y=i,r.z=f,r},E.multiplyByPoint=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("cartesian",t),n.Check.typeOf.object("result",r);var a=t.x,c=t.y,o=t.z,u=e[0]*a+e[4]*c+e[8]*o+e[12],i=e[1]*a+e[5]*c+e[9]*o+e[13],f=e[2]*a+e[6]*c+e[10]*o+e[14];return r.x=u,r.y=i,r.z=f,r},E.multiplyByScalar=function(e,t,r){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.number("scalar",t),n.Check.typeOf.object("result",r),r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r[4]=e[4]*t,r[5]=e[5]*t,r[6]=e[6]*t,r[7]=e[7]*t,r[8]=e[8]*t,r[9]=e[9]*t,r[10]=e[10]*t,r[11]=e[11]*t,r[12]=e[12]*t,r[13]=e[13]*t,r[14]=e[14]*t,r[15]=e[15]*t,r},E.negate=function(e,t){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t),t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t},E.transpose=function(e,t){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t);var r=e[1],a=e[2],c=e[3],o=e[6],u=e[7],i=e[11];return t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=a,t[9]=o,t[10]=e[10],t[11]=e[14],t[12]=c,t[13]=u,t[14]=i,t[15]=e[15],t},E.abs=function(e,t){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t),t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t[9]=Math.abs(e[9]),t[10]=Math.abs(e[10]),t[11]=Math.abs(e[11]),t[12]=Math.abs(e[12]),t[13]=Math.abs(e[13]),t[14]=Math.abs(e[14]),t[15]=Math.abs(e[15]),t},E.equals=function(e,n){return e===n||t.defined(e)&&t.defined(n)&&e[12]===n[12]&&e[13]===n[13]&&e[14]===n[14]&&e[0]===n[0]&&e[1]===n[1]&&e[2]===n[2]&&e[4]===n[4]&&e[5]===n[5]&&e[6]===n[6]&&e[8]===n[8]&&e[9]===n[9]&&e[10]===n[10]&&e[3]===n[3]&&e[7]===n[7]&&e[11]===n[11]&&e[15]===n[15]},E.equalsEpsilon=function(e,n,r){return r=t.defaultValue(r,0),e===n||t.defined(e)&&t.defined(n)&&Math.abs(e[0]-n[0])<=r&&Math.abs(e[1]-n[1])<=r&&Math.abs(e[2]-n[2])<=r&&Math.abs(e[3]-n[3])<=r&&Math.abs(e[4]-n[4])<=r&&Math.abs(e[5]-n[5])<=r&&Math.abs(e[6]-n[6])<=r&&Math.abs(e[7]-n[7])<=r&&Math.abs(e[8]-n[8])<=r&&Math.abs(e[9]-n[9])<=r&&Math.abs(e[10]-n[10])<=r&&Math.abs(e[11]-n[11])<=r&&Math.abs(e[12]-n[12])<=r&&Math.abs(e[13]-n[13])<=r&&Math.abs(e[14]-n[14])<=r&&Math.abs(e[15]-n[15])<=r},E.getTranslation=function(e,t){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t),t.x=e[12],t.y=e[13],t.z=e[14],t},E.getMatrix3=function(e,t){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t),t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t};var L=new c,W=new c,B=new O,A=new O(0,0,0,1);E.inverse=function(e,t){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t);var o=e[0],u=e[4],i=e[8],f=e[12],h=e[1],s=e[5],l=e[9],y=e[13],p=e[2],C=e[6],b=e[10],m=e[14],k=e[3],d=e[7],x=e[11],j=e[15],w=b*j,M=m*x,z=C*j,g=m*d,v=C*x,T=b*d,q=p*j,N=m*k,V=p*x,I=b*k,R=p*d,S=C*k,U=w*s+g*l+v*y-(M*s+z*l+T*y),P=M*h+q*l+I*y-(w*h+N*l+V*y),_=z*h+N*s+R*y-(g*h+q*s+S*y),D=T*h+V*s+S*l-(v*h+I*s+R*l),Y=M*u+z*i+T*f-(w*u+g*i+v*f),Z=w*o+N*i+V*f-(M*o+q*i+I*f),F=g*o+q*u+S*f-(z*o+N*u+R*f),Q=v*o+I*u+R*i-(T*o+V*u+S*i);w=i*y,M=f*l,z=u*y,g=f*s,v=u*l,T=i*s,q=o*y,N=f*h,V=o*l,I=i*h,R=o*s,S=u*h;var X=w*d+g*x+v*j-(M*d+z*x+T*j),G=M*k+q*x+I*j-(w*k+N*x+V*j),H=z*k+N*d+R*j-(g*k+q*d+S*j),J=T*k+V*d+S*x-(v*k+I*d+R*x),K=z*b+T*m+M*C-(v*m+w*C+g*b),$=V*m+w*p+N*b-(q*b+I*m+M*p),ee=q*C+S*m+g*p-(R*m+z*p+N*C),te=R*b+v*p+I*C-(V*C+S*b+T*p),ne=o*U+u*P+i*_+f*D;if(Math.abs(ne)<r.CesiumMath.EPSILON21){if(c.equalsEpsilon(E.getMatrix3(e,L),W,r.CesiumMath.EPSILON7)&&O.equals(E.getRow(e,3,B),A))return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=1,t;throw new a.RuntimeError("matrix is not invertible because its determinate is zero.")}return ne=1/ne,t[0]=U*ne,t[1]=P*ne,t[2]=_*ne,t[3]=D*ne,t[4]=Y*ne,t[5]=Z*ne,t[6]=F*ne,t[7]=Q*ne,t[8]=X*ne,t[9]=G*ne,t[10]=H*ne,t[11]=J*ne,t[12]=K*ne,t[13]=$*ne,t[14]=ee*ne,t[15]=te*ne,t},E.inverseTransformation=function(e,t){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t);var r=e[0],a=e[1],c=e[2],o=e[4],u=e[5],i=e[6],f=e[8],h=e[9],s=e[10],l=e[12],y=e[13],p=e[14],C=-r*l-a*y-c*p,O=-o*l-u*y-i*p,b=-f*l-h*y-s*p;return t[0]=r,t[1]=o,t[2]=f,t[3]=0,t[4]=a,t[5]=u,t[6]=h,t[7]=0,t[8]=c,t[9]=i,t[10]=s,t[11]=0,t[12]=C,t[13]=O,t[14]=b,t[15]=1,t},E.IDENTITY=Object.freeze(new E(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),E.ZERO=Object.freeze(new E(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),E.COLUMN0ROW0=0,E.COLUMN0ROW1=1,E.COLUMN0ROW2=2,E.COLUMN0ROW3=3,E.COLUMN1ROW0=4,E.COLUMN1ROW1=5,E.COLUMN1ROW2=6,E.COLUMN1ROW3=7,E.COLUMN2ROW0=8,E.COLUMN2ROW1=9,E.COLUMN2ROW2=10,E.COLUMN2ROW3=11,E.COLUMN3ROW0=12,E.COLUMN3ROW1=13,E.COLUMN3ROW2=14,E.COLUMN3ROW3=15,Object.defineProperties(E.prototype,{length:{get:function(){return E.packedLength}}}),E.prototype.clone=function(e){return E.clone(this,e)},E.prototype.equals=function(e){return E.equals(this,e)},E.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]&&e[9]===t[n+9]&&e[10]===t[n+10]&&e[11]===t[n+11]&&e[12]===t[n+12]&&e[13]===t[n+13]&&e[14]===t[n+14]&&e[15]===t[n+15]},E.fromPositions=function(e){let t=e[0],n=e[1],a=e[2],c=r.Cartesian3.subtract(t,n,new r.Cartesian3),o=r.Cartesian3.subtract(t,a,new r.Cartesian3),u=r.Cartesian3.cross(c,o,new r.Cartesian3);return r.Cartesian3.normalize(u,u),r.Cartesian3.cross(u,c,o),r.Cartesian3.normalize(u,u),r.Cartesian3.normalize(c,c),r.Cartesian3.normalize(o,o),new E(c.x,o.x,u.x,t.x,c.y,o.y,u.y,t.y,c.z,o.z,u.z,t.z,0,0,0,1)},E.prototype.equalsEpsilon=function(e,t){return E.equalsEpsilon(this,e,t)},E.prototype.toString=function(){return"("+this[0]+", "+this[4]+", "+this[8]+", "+this[12]+")\n("+this[1]+", "+this[5]+", "+this[9]+", "+this[13]+")\n("+this[2]+", "+this[6]+", "+this[10]+", "+this[14]+")\n("+this[3]+", "+this[7]+", "+this[11]+", "+this[15]+")"},E.prototype.leftTransformBy=function(e){return E.multiply(e,this,this),this},E.prototype.rightTransformBy=function(e){return E.multiply(this,e,this),this},E.prototype.createInverse=function(){const e=new E;return E.inverse(this,e),e},e.Cartesian4=O,e.Matrix3=c,e.Matrix4=E}));