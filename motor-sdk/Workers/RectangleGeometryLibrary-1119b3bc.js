define(["exports","./when-45f3d25d","./Check-34538dad","./Cartesian3-ef6ea826","./Cartesian2-a652b463","./BoundingSphere-038d5fbc","./GeometryAttribute-dfebcc43"],(function(t,n,a,r,e,o,s){"use strict";var i=Math.cos,g=Math.sin,h=Math.sqrt,u={computePosition:function(t,a,r,e,o,s,u){var c=a.radiiSquared,C=t.nwCorner,l=t.boundingRectangle,d=C.latitude-t.granYCos*e+o*t.granXSin,S=i(d),w=g(d),M=c.z*w,X=C.longitude+e*t.granYSin+o*t.granXCos,Y=S*i(X),f=S*g(X),m=c.x*Y,p=c.y*f,v=h(m*Y+p*f+M*w);if(s.x=m/v,s.y=p/v,s.z=M/v,r){var G=t.stNwCorner;n.defined(G)?(d=G.latitude-t.stGranYCos*e+o*t.stGranXSin,X=G.longitude+e*t.stGranYSin+o*t.stGranXCos,u.x=(X-t.stWest)*t.lonScalar,u.y=(d-t.stSouth)*t.latScalar):(u.x=(X-l.west)*t.lonScalar,u.y=(d-l.south)*t.latScalar)}}},c=new s.Matrix2,C=new r.Cartesian3,l=new e.Cartographic,d=new r.Cartesian3,S=new o.GeographicProjection;function w(t,n,a,e,o,i,g){var h=Math.cos(n),u=e*h,l=a*h,w=Math.sin(n),M=e*w,X=a*w;C=S.project(t,C),C=r.Cartesian3.subtract(C,d,C);var Y=s.Matrix2.fromRotation(n,c);C=s.Matrix2.multiplyByVector(Y,C,C),C=r.Cartesian3.add(C,d,C),i-=1,g-=1;var f=(t=S.unproject(C,t)).latitude,m=f+i*X,p=f-u*g,v=f-u*g+i*X,G=Math.max(f,m,p,v),x=Math.min(f,m,p,v),R=t.longitude,y=R+i*l,b=R+g*M,O=R+g*M+i*l;return{north:G,south:x,east:Math.max(R,y,b,O),west:Math.min(R,y,b,O),granYCos:u,granYSin:M,granXCos:l,granXSin:X,nwCorner:t}}u.computeOptions=function(t,n,a,o,s,i,g){var h,u,c,C,M,X=t.east,Y=t.west,f=t.north,m=t.south,p=!1,v=!1;f===r.CesiumMath.PI_OVER_TWO&&(p=!0),m===-r.CesiumMath.PI_OVER_TWO&&(v=!0);var G=f-m;c=(M=Y>X?r.CesiumMath.TWO_PI-Y+X:X-Y)/((h=Math.ceil(M/n)+1)-1),C=G/((u=Math.ceil(G/n)+1)-1);var x=e.Rectangle.northwest(t,i),R=e.Rectangle.center(t,l);0===a&&0===o||(R.longitude<x.longitude&&(R.longitude+=r.CesiumMath.TWO_PI),d=S.project(R,d));var y=C,b=c,O=e.Rectangle.clone(t,s),P={granYCos:y,granYSin:0,granXCos:b,granXSin:0,nwCorner:x,boundingRectangle:O,width:h,height:u,northCap:p,southCap:v};if(0!==a){var W=w(x,a,c,C,0,h,u);f=W.north,m=W.south,X=W.east,Y=W.west,P.granYCos=W.granYCos,P.granYSin=W.granYSin,P.granXCos=W.granXCos,P.granXSin=W.granXSin,O.north=f,O.south=m,O.east=X,O.west=Y}if(0!==o){a-=o;var _=e.Rectangle.northwest(O,g),j=w(_,a,c,C,0,h,u);P.stGranYCos=j.granYCos,P.stGranXCos=j.granXCos,P.stGranYSin=j.granYSin,P.stGranXSin=j.granXSin,P.stNwCorner=_,P.stWest=j.west,P.stSouth=j.south}return P},t.RectangleGeometryLibrary=u}));