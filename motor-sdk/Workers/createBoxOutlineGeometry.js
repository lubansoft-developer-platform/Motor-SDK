define(["./when-45f3d25d","./Check-34538dad","./Cartesian3-e69091b9","./Cartesian2-7a44370a","./BoundingSphere-bacc5cb6","./Matrix4-c65e6a1b","./RuntimeError-86da6af2","./Rectangle-c7d55cfa","./WebGLConstants-3660bc8f","./ComponentDatatype-86703c58","./GeometryAttribute-4777d9f4","./PrimitiveType-30fa6f85","./Transforms-68229cf3","./GeometryAttributes-9d45f9e2","./GeometryOffsetAttribute-f755a5cb"],(function(e,t,a,n,r,i,o,u,f,s,m,c,d,y,p){"use strict";var b=new a.Cartesian3;function C(n){n=e.defaultValue(n,e.defaultValue.EMPTY_OBJECT);var r=n.minimum,i=n.maximum;if(t.Check.typeOf.object("min",r),t.Check.typeOf.object("max",i),e.defined(n.offsetAttribute)&&n.offsetAttribute===p.GeometryOffsetAttribute.TOP)throw new t.DeveloperError("GeometryOffsetAttribute.TOP is not a supported options.offsetAttribute for this geometry.");this._min=a.Cartesian3.clone(r),this._max=a.Cartesian3.clone(i),this._offsetAttribute=n.offsetAttribute,this._workerName="createBoxOutlineGeometry"}C.fromDimensions=function(n){n=e.defaultValue(n,e.defaultValue.EMPTY_OBJECT);var r=n.dimensions;t.Check.typeOf.object("dimensions",r),t.Check.typeOf.number.greaterThanOrEquals("dimensions.x",r.x,0),t.Check.typeOf.number.greaterThanOrEquals("dimensions.y",r.y,0),t.Check.typeOf.number.greaterThanOrEquals("dimensions.z",r.z,0);var i=a.Cartesian3.multiplyByScalar(r,.5,new a.Cartesian3);return new C({minimum:a.Cartesian3.negate(i,new a.Cartesian3),maximum:i,offsetAttribute:n.offsetAttribute})},C.fromAxisAlignedBoundingBox=function(e){return t.Check.typeOf.object("boundindBox",e),new C({minimum:e.minimum,maximum:e.maximum})},C.packedLength=2*a.Cartesian3.packedLength+1,C.pack=function(n,r,i){return t.Check.typeOf.object("value",n),t.Check.defined("array",r),i=e.defaultValue(i,0),a.Cartesian3.pack(n._min,r,i),a.Cartesian3.pack(n._max,r,i+a.Cartesian3.packedLength),r[i+2*a.Cartesian3.packedLength]=e.defaultValue(n._offsetAttribute,-1),r};var l=new a.Cartesian3,h=new a.Cartesian3,A={minimum:l,maximum:h,offsetAttribute:void 0};function x(t,a){return e.defined(a)&&(t=C.unpack(t,a)),C.createGeometry(t)}return C.unpack=function(n,r,i){t.Check.defined("array",n),r=e.defaultValue(r,0);var o=a.Cartesian3.unpack(n,r,l),u=a.Cartesian3.unpack(n,r+a.Cartesian3.packedLength,h),f=n[r+2*a.Cartesian3.packedLength];return e.defined(i)?(i._min=a.Cartesian3.clone(o,i._min),i._max=a.Cartesian3.clone(u,i._max),i._offsetAttribute=-1===f?void 0:f,i):(A.offsetAttribute=-1===f?void 0:f,new C(A))},C.createGeometry=function(t){var n=t._min,i=t._max;if(!a.Cartesian3.equals(n,i)){var o=new y.GeometryAttributes,u=new Uint16Array(24),f=new Float64Array(24);f[0]=n.x,f[1]=n.y,f[2]=n.z,f[3]=i.x,f[4]=n.y,f[5]=n.z,f[6]=i.x,f[7]=i.y,f[8]=n.z,f[9]=n.x,f[10]=i.y,f[11]=n.z,f[12]=n.x,f[13]=n.y,f[14]=i.z,f[15]=i.x,f[16]=n.y,f[17]=i.z,f[18]=i.x,f[19]=i.y,f[20]=i.z,f[21]=n.x,f[22]=i.y,f[23]=i.z,o.position=new m.GeometryAttribute({componentDatatype:s.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:f}),u[0]=4,u[1]=5,u[2]=5,u[3]=6,u[4]=6,u[5]=7,u[6]=7,u[7]=4,u[8]=0,u[9]=1,u[10]=1,u[11]=2,u[12]=2,u[13]=3,u[14]=3,u[15]=0,u[16]=0,u[17]=4,u[18]=1,u[19]=5,u[20]=2,u[21]=6,u[22]=3,u[23]=7;var d=a.Cartesian3.subtract(i,n,b),C=.5*a.Cartesian3.magnitude(d);if(e.defined(t._offsetAttribute)){var l=f.length,h=new Uint8Array(l/3),A=t._offsetAttribute===p.GeometryOffsetAttribute.NONE?0:1;p.arrayFill(h,A),o.applyOffset=new m.GeometryAttribute({componentDatatype:s.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:h})}return new m.Geometry({attributes:o,indices:u,primitiveType:c.PrimitiveType.LINES,boundingSphere:new r.BoundingSphere(a.Cartesian3.ZERO,C),offsetAttribute:t._offsetAttribute})}},x}));