define(["exports","./when-45f3d25d","./Check-34538dad"],(function(e,t,r){"use strict";var n=function(e){void 0==e&&(e=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.init_genrand(e)};n.prototype.init_genrand=function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<this.N;this.mti++){e=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&e)>>>16)<<16)+1812433253*(65535&e)+this.mti,this.mt[this.mti]>>>=0}},n.prototype.genrand_int32=function(){var e,t=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var r;for(this.mti==this.N+1&&this.init_genrand(5489),r=0;r<this.N-this.M;r++)e=this.mt[r]&this.UPPER_MASK|this.mt[r+1]&this.LOWER_MASK,this.mt[r]=this.mt[r+this.M]^e>>>1^t[1&e];for(;r<this.N-1;r++)e=this.mt[r]&this.UPPER_MASK|this.mt[r+1]&this.LOWER_MASK,this.mt[r]=this.mt[r+(this.M-this.N)]^e>>>1^t[1&e];e=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^e>>>1^t[1&e],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,e^=e>>>18,e>>>0},n.prototype.random=function(){return this.genrand_int32()*(1/4294967296)};var i={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,EPSILON21:1e-21,GRAVITATIONALPARAMETER:3986004418e5,SOLAR_RADIUS:20865e5,LUNAR_RADIUS:5212200,SIXTY_FOUR_KILOBYTES:65536,FOUR_GIGABYTES:4294967296};i.sign=t.defaultValue(Math.sign,(function(e){return e=+e,0===e||e!==e?e:e>0?1:-1})),i.signNotZero=function(e){return e<0?-1:1},i.toSNorm=function(e,r){return r=t.defaultValue(r,255),Math.round((.5*i.clamp(e,-1,1)+.5)*r)},i.fromSNorm=function(e,r){return r=t.defaultValue(r,255),i.clamp(e,0,r)/r*2-1},i.normalize=function(e,t,r){return r=Math.max(r-t,0),0===r?0:i.clamp((e-t)/r,0,1)},i.sinh=t.defaultValue(Math.sinh,(function(e){return(Math.exp(e)-Math.exp(-e))/2})),i.cosh=t.defaultValue(Math.cosh,(function(e){return(Math.exp(e)+Math.exp(-e))/2})),i.lerp=function(e,t,r){return(1-r)*e+r*t},i.PI=Math.PI,i.ONE_OVER_PI=1/Math.PI,i.PI_OVER_TWO=Math.PI/2,i.PI_OVER_THREE=Math.PI/3,i.PI_OVER_FOUR=Math.PI/4,i.PI_OVER_SIX=Math.PI/6,i.THREE_PI_OVER_TWO=3*Math.PI/2,i.TWO_PI=2*Math.PI,i.ONE_OVER_TWO_PI=1/(2*Math.PI),i.RADIANS_PER_DEGREE=Math.PI/180,i.DEGREES_PER_RADIAN=180/Math.PI,i.RADIANS_PER_ARCSECOND=i.RADIANS_PER_DEGREE/3600,i.toRadians=function(e){if(!t.defined(e))throw new r.DeveloperError("degrees is required.");return e*i.RADIANS_PER_DEGREE},i.toDegrees=function(e){if(!t.defined(e))throw new r.DeveloperError("radians is required.");return e*i.DEGREES_PER_RADIAN},i.convertLongitudeRange=function(e){if(!t.defined(e))throw new r.DeveloperError("angle is required.");var n=i.TWO_PI,o=e-Math.floor(e/n)*n;return o<-Math.PI?o+n:o>=Math.PI?o-n:o},i.clampToLatitudeRange=function(e){if(!t.defined(e))throw new r.DeveloperError("angle is required.");return i.clamp(e,-1*i.PI_OVER_TWO,i.PI_OVER_TWO)},i.negativePiToPi=function(e){if(!t.defined(e))throw new r.DeveloperError("angle is required.");return i.zeroToTwoPi(e+i.PI)-i.PI},i.zeroToTwoPi=function(e){if(!t.defined(e))throw new r.DeveloperError("angle is required.");var n=i.mod(e,i.TWO_PI);return Math.abs(n)<i.EPSILON14&&Math.abs(e)>i.EPSILON14?i.TWO_PI:n},i.mod=function(e,n){if(!t.defined(e))throw new r.DeveloperError("m is required.");if(!t.defined(n))throw new r.DeveloperError("n is required.");return(e%n+n)%n},i.equalsEpsilon=function(e,n,i,o){if(!t.defined(e))throw new r.DeveloperError("left is required.");if(!t.defined(n))throw new r.DeveloperError("right is required.");i=t.defaultValue(i,0),o=t.defaultValue(o,i);var a=Math.abs(e-n);return a<=o||a<=i*Math.max(Math.abs(e),Math.abs(n))},i.lessThan=function(e,n,i){if(!t.defined(e))throw new r.DeveloperError("first is required.");if(!t.defined(n))throw new r.DeveloperError("second is required.");if(!t.defined(i))throw new r.DeveloperError("relativeEpsilon is required.");return e-n<-i},i.lessThanOrEquals=function(e,n,i){if(!t.defined(e))throw new r.DeveloperError("first is required.");if(!t.defined(n))throw new r.DeveloperError("second is required.");if(!t.defined(i))throw new r.DeveloperError("relativeEpsilon is required.");return e-n<i},i.greaterThan=function(e,n,i){if(!t.defined(e))throw new r.DeveloperError("first is required.");if(!t.defined(n))throw new r.DeveloperError("second is required.");if(!t.defined(i))throw new r.DeveloperError("relativeEpsilon is required.");return e-n>i},i.greaterThanOrEquals=function(e,n,i){if(!t.defined(e))throw new r.DeveloperError("first is required.");if(!t.defined(n))throw new r.DeveloperError("second is required.");if(!t.defined(i))throw new r.DeveloperError("relativeEpsilon is required.");return e-n>-i};var o=[1];i.factorial=function(e){if("number"!==typeof e||e<0)throw new r.DeveloperError("A number greater than or equal to 0 is required.");var t=o.length;if(e>=t)for(var n=o[t-1],i=t;i<=e;i++){var a=n*i;o.push(a),n=a}return o[e]},i.incrementWrap=function(e,n,i){if(i=t.defaultValue(i,0),!t.defined(e))throw new r.DeveloperError("n is required.");if(n<=i)throw new r.DeveloperError("maximumValue must be greater than minimumValue.");return++e,e>n&&(e=i),e},i.isPowerOfTwo=function(e){if("number"!==typeof e||e<0)throw new r.DeveloperError("A number greater than or equal to 0 is required.");return 0!==e&&0===(e&e-1)},i.nextPowerOfTwo=function(e){if("number"!==typeof e||e<0)throw new r.DeveloperError("A number greater than or equal to 0 is required.");return--e,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e,e},i.clamp=function(e,n,i){if(!t.defined(e))throw new r.DeveloperError("value is required");if(!t.defined(n))throw new r.DeveloperError("min is required.");if(!t.defined(i))throw new r.DeveloperError("max is required.");return e<n?n:e>i?i:e};var a=new n;function u(e,r,n){this.x=t.defaultValue(e,0),this.y=t.defaultValue(r,0),this.z=t.defaultValue(n,0)}i.setRandomNumberSeed=function(e){if(!t.defined(e))throw new r.DeveloperError("seed is required.");a=new n(e)},i.nextRandomNumber=function(){return a.random()},i.randomBetween=function(e,t){return i.nextRandomNumber()*(t-e)+e},i.acosClamped=function(e){if(!t.defined(e))throw new r.DeveloperError("value is required.");return Math.acos(i.clamp(e,-1,1))},i.asinClamped=function(e){if(!t.defined(e))throw new r.DeveloperError("value is required.");return Math.asin(i.clamp(e,-1,1))},i.chordLength=function(e,n){if(!t.defined(e))throw new r.DeveloperError("angle is required.");if(!t.defined(n))throw new r.DeveloperError("radius is required.");return 2*n*Math.sin(.5*e)},i.logBase=function(e,n){if(!t.defined(e))throw new r.DeveloperError("number is required.");if(!t.defined(n))throw new r.DeveloperError("base is required.");return Math.log(e)/Math.log(n)},i.cbrt=t.defaultValue(Math.cbrt,(function(e){var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t})),i.log2=t.defaultValue(Math.log2,(function(e){return Math.log(e)*Math.LOG2E})),i.fog=function(e,t){var r=e*t;return 1-Math.exp(-r*r)},i.fastApproximateAtan=function(e){return r.Check.typeOf.number("x",e),e*(-.1784*Math.abs(e)-.0663*e*e+1.0301)},i.fastApproximateAtan2=function(e,t){var n,o;r.Check.typeOf.number("x",e),r.Check.typeOf.number("y",t);var a=Math.abs(e);n=Math.abs(t),o=Math.max(a,n),n=Math.min(a,n);var u=n/o;if(isNaN(u))throw new r.DeveloperError("either x or y must be nonzero");return a=i.fastApproximateAtan(u),a=Math.abs(t)>Math.abs(e)?i.PI_OVER_TWO-a:a,a=e<0?i.PI-a:a,a=t<0?-a:a,a},u.fromSpherical=function(e,n){r.Check.typeOf.object("spherical",e),t.defined(n)||(n=new u);var i=e.clock,o=e.cone,a=t.defaultValue(e.magnitude,1),f=a*Math.sin(o);return n.x=f*Math.cos(i),n.y=f*Math.sin(i),n.z=a*Math.cos(o),n},u.fromElements=function(e,r,n,i){return t.defined(i)?(i.x=e,i.y=r,i.z=n,i):new u(e,r,n)},u.clone=function(e,r){if(t.defined(e))return t.defined(r)?(r.x=e.x,r.y=e.y,r.z=e.z,r):new u(e.x,e.y,e.z)},u.fromCartesian4=u.clone,u.packedLength=3,u.pack=function(e,n,i){return r.Check.typeOf.object("value",e),r.Check.defined("array",n),i=t.defaultValue(i,0),n[i++]=e.x,n[i++]=e.y,n[i]=e.z,n},u.unpack=function(e,n,i){return r.Check.defined("array",e),n=t.defaultValue(n,0),t.defined(i)||(i=new u),i.x=e[n++],i.y=e[n++],i.z=e[n],i},u.packArray=function(e,n){r.Check.defined("array",e);var i=e.length,o=3*i;if(t.defined(n)){if(!Array.isArray(n)&&n.length!==o)throw new r.DeveloperError("If result is a typed array, it must have exactly array.length * 3 elements");n.length!==o&&(n.length=o)}else n=new Array(o);for(var a=0;a<i;++a)u.pack(e[a],n,3*a);return n},u.unpackArray=function(e,n){if(r.Check.defined("array",e),r.Check.typeOf.number.greaterThanOrEquals("array.length",e.length,3),e.length%3!==0)throw new r.DeveloperError("array length must be a multiple of 3.");var i=e.length;t.defined(n)?n.length=i/3:n=new Array(i/3);for(var o=0;o<i;o+=3){var a=o/3;n[a]=u.unpack(e,o,n[a])}return n},u.fromArray=u.unpack,u.maximumComponent=function(e){return r.Check.typeOf.object("cartesian",e),Math.max(e.x,e.y,e.z)},u.minimumComponent=function(e){return r.Check.typeOf.object("cartesian",e),Math.min(e.x,e.y,e.z)},u.minimumByComponent=function(e,t,n){return r.Check.typeOf.object("first",e),r.Check.typeOf.object("second",t),r.Check.typeOf.object("result",n),n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n.z=Math.min(e.z,t.z),n},u.maximumByComponent=function(e,t,n){return r.Check.typeOf.object("first",e),r.Check.typeOf.object("second",t),r.Check.typeOf.object("result",n),n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n.z=Math.max(e.z,t.z),n},u.magnitudeSquared=function(e){return r.Check.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y+e.z*e.z},u.magnitude=function(e){return Math.sqrt(u.magnitudeSquared(e))};var f=new u;u.distance=function(e,t){return r.Check.typeOf.object("left",e),r.Check.typeOf.object("right",t),u.subtract(e,t,f),u.magnitude(f)},u.distanceSquared=function(e,t){return r.Check.typeOf.object("left",e),r.Check.typeOf.object("right",t),u.subtract(e,t,f),u.magnitudeSquared(f)},u.normalize=function(e,t){r.Check.typeOf.object("cartesian",e),r.Check.typeOf.object("result",t);var n=u.magnitude(e);if(t.x=e.x/n,t.y=e.y/n,t.z=e.z/n,isNaN(t.x)||isNaN(t.y)||isNaN(t.z))throw new r.DeveloperError("normalized result is not a number");return t},u.dot=function(e,t){return r.Check.typeOf.object("left",e),r.Check.typeOf.object("right",t),e.x*t.x+e.y*t.y+e.z*t.z},u.multiplyComponents=function(e,t,n){return r.Check.typeOf.object("left",e),r.Check.typeOf.object("right",t),r.Check.typeOf.object("result",n),n.x=e.x*t.x,n.y=e.y*t.y,n.z=e.z*t.z,n},u.divideComponents=function(e,t,n){return r.Check.typeOf.object("left",e),r.Check.typeOf.object("right",t),r.Check.typeOf.object("result",n),n.x=e.x/t.x,n.y=e.y/t.y,n.z=e.z/t.z,n},u.add=function(e,t,n){return r.Check.typeOf.object("left",e),r.Check.typeOf.object("right",t),r.Check.typeOf.object("result",n),n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n},u.subtract=function(e,t,n){return r.Check.typeOf.object("left",e),r.Check.typeOf.object("right",t),r.Check.typeOf.object("result",n),n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z,n},u.ceil=function(e,t){return r.Check.typeOf.object("cartesian",e),r.Check.typeOf.object("result",t),t.x=Math.ceil(e.x),t.y=Math.ceil(e.y),t.z=Math.ceil(e.z),t},u.floor=function(e,t){return r.Check.typeOf.object("cartesian",e),r.Check.typeOf.object("result",t),t.x=Math.floor(e.x),t.y=Math.floor(e.y),t.z=Math.floor(e.z),t},u.multiplyByScalar=function(e,t,n){return r.Check.typeOf.object("cartesian",e),r.Check.typeOf.number("scalar",t),r.Check.typeOf.object("result",n),n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n},u.divideByScalar=function(e,t,n){return r.Check.typeOf.object("cartesian",e),r.Check.typeOf.number("scalar",t),r.Check.typeOf.object("result",n),n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n},u.negate=function(e,t){return r.Check.typeOf.object("cartesian",e),r.Check.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t.z=-e.z,t},u.abs=function(e,t){return r.Check.typeOf.object("cartesian",e),r.Check.typeOf.object("result",t),t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t};var h=new u;u.lerp=function(e,t,n,i){return r.Check.typeOf.object("start",e),r.Check.typeOf.object("end",t),r.Check.typeOf.number("t",n),r.Check.typeOf.object("result",i),u.multiplyByScalar(t,n,h),i=u.multiplyByScalar(e,1-n,i),u.add(h,i,i)};var c=new u,s=new u;u.angleBetween=function(e,t){r.Check.typeOf.object("left",e),r.Check.typeOf.object("right",t),u.normalize(e,c),u.normalize(t,s);var n=u.dot(c,s),i=u.magnitude(u.cross(c,s,c));return Math.atan2(i,n)};var l=new u;u.mostOrthogonalAxis=function(e,t){r.Check.typeOf.object("cartesian",e),r.Check.typeOf.object("result",t);var n=u.normalize(e,l);return u.abs(n,n),t=n.x<=n.y?n.x<=n.z?u.clone(u.UNIT_X,t):u.clone(u.UNIT_Z,t):n.y<=n.z?u.clone(u.UNIT_Y,t):u.clone(u.UNIT_Z,t),t},u.projectVector=function(e,t,n){r.Check.defined("a",e),r.Check.defined("b",t),r.Check.defined("result",n);var i=u.dot(e,t)/u.dot(t,t);return u.multiplyByScalar(t,i,n)},u.equals=function(e,r){return e===r||t.defined(e)&&t.defined(r)&&e.x===r.x&&e.y===r.y&&e.z===r.z},u.equalsArray=function(e,t,r){return e.x===t[r]&&e.y===t[r+1]&&e.z===t[r+2]},u.equalsEpsilon=function(e,r,n,o){return e===r||t.defined(e)&&t.defined(r)&&i.equalsEpsilon(e.x,r.x,n,o)&&i.equalsEpsilon(e.y,r.y,n,o)&&i.equalsEpsilon(e.z,r.z,n,o)},u.cross=function(e,t,n){r.Check.typeOf.object("left",e),r.Check.typeOf.object("right",t),r.Check.typeOf.object("result",n);var i=e.x,o=e.y,a=e.z,u=t.x,f=t.y,h=t.z,c=o*h-a*f,s=a*u-i*h,l=i*f-o*u;return n.x=c,n.y=s,n.z=l,n},u.midpoint=function(e,t,n){return r.Check.typeOf.object("left",e),r.Check.typeOf.object("right",t),r.Check.typeOf.object("result",n),n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y),n.z=.5*(e.z+t.z),n},u.fromDegrees=function(e,t,n,o,a){return r.Check.typeOf.number("longitude",e),r.Check.typeOf.number("latitude",t),e=i.toRadians(e),t=i.toRadians(t),u.fromRadians(e,t,n,o,a)};var d=new u,p=new u,y=new u(40680631590769,40680631590769,40408299984661.445);u.fromRadians=function(e,n,i,o,a){r.Check.typeOf.number("longitude",e),r.Check.typeOf.number("latitude",n),i=t.defaultValue(i,0);var f=t.defined(o)?o.radiiSquared:y,h=Math.cos(n);d.x=h*Math.cos(e),d.y=h*Math.sin(e),d.z=Math.sin(n),d=u.normalize(d,d),u.multiplyComponents(f,d,p);var c=Math.sqrt(u.dot(d,p));return p=u.divideByScalar(p,c,p),d=u.multiplyByScalar(d,i,d),t.defined(a)||(a=new u),u.add(p,d,a)},u.fromDegreesArray=function(e,n,i){if(r.Check.defined("coordinates",e),e.length<2||e.length%2!==0)throw new r.DeveloperError("the number of coordinates must be a multiple of 2 and at least 2");var o=e.length;t.defined(i)?i.length=o/2:i=new Array(o/2);for(var a=0;a<o;a+=2){var f=e[a],h=e[a+1],c=a/2;i[c]=u.fromDegrees(f,h,0,n,i[c])}return i},u.fromRadiansArray=function(e,n,i){if(r.Check.defined("coordinates",e),e.length<2||e.length%2!==0)throw new r.DeveloperError("the number of coordinates must be a multiple of 2 and at least 2");var o=e.length;t.defined(i)?i.length=o/2:i=new Array(o/2);for(var a=0;a<o;a+=2){var f=e[a],h=e[a+1],c=a/2;i[c]=u.fromRadians(f,h,0,n,i[c])}return i},u.fromDegreesArrayHeights=function(e,n,i){if(r.Check.defined("coordinates",e),e.length<3||e.length%3!==0)throw new r.DeveloperError("the number of coordinates must be a multiple of 3 and at least 3");var o=e.length;t.defined(i)?i.length=o/3:i=new Array(o/3);for(var a=0;a<o;a+=3){var f=e[a],h=e[a+1],c=e[a+2],s=a/3;i[s]=u.fromDegrees(f,h,c,n,i[s])}return i},u.fromRadiansArrayHeights=function(e,n,i){if(r.Check.defined("coordinates",e),e.length<3||e.length%3!==0)throw new r.DeveloperError("the number of coordinates must be a multiple of 3 and at least 3");var o=e.length;t.defined(i)?i.length=o/3:i=new Array(o/3);for(var a=0;a<o;a+=3){var f=e[a],h=e[a+1],c=e[a+2],s=a/3;i[s]=u.fromRadians(f,h,c,n,i[s])}return i},u.ZERO=Object.freeze(new u(0,0,0)),u.UNIT_X=Object.freeze(new u(1,0,0)),u.UNIT_Y=Object.freeze(new u(0,1,0)),u.UNIT_Z=Object.freeze(new u(0,0,1)),u.IDENTITY=Object.freeze(new u(1,1,1)),u.prototype.clone=function(e){return u.clone(this,e)},u.prototype.equals=function(e){return u.equals(this,e)},u.prototype.equalsEpsilon=function(e,t,r){return u.equalsEpsilon(this,e,t,r)},u.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},e.Cartesian3=u,e.CesiumMath=i}));