define(["exports","./when-52cea266","./Check-abb9b75f","./Cartesian2-7312ebeb","./Rectangle-9e59d921","./BoundingSphere-ff324c2c","./GeometryAttribute-55231797"],(function(t,n,a,e,r,o,s){"use strict";var i=Math.cos,h=Math.sin,g=Math.sqrt,u={computePosition:function(t,a,e,r,o,s,u){var c=a.radiiSquared,C=t.nwCorner,l=t.boundingRectangle,S=C.latitude-t.granYCos*r+o*t.granXSin,d=i(S),w=h(S),M=c.z*w,m=C.longitude+r*t.granYSin+o*t.granXCos,R=d*i(m),X=d*h(m),Y=c.x*R,p=c.y*X,v=g(Y*R+p*X+M*w);if(s.x=Y/v,s.y=p/v,s.z=M/v,e){var O=t.stNwCorner;n.defined(O)?(S=O.latitude-t.stGranYCos*r+o*t.stGranXSin,m=O.longitude+r*t.stGranYSin+o*t.stGranXCos,u.x=(m-t.stWest)*t.lonScalar,u.y=(S-t.stSouth)*t.latScalar):(u.x=(m-l.west)*t.lonScalar,u.y=(S-l.south)*t.latScalar)}}},c=new s.Matrix2,C=new e.Cartesian3,l=new r.Cartographic,S=new e.Cartesian3,d=new o.GeographicProjection;function w(t,n,a,r,o,i,h){var g=Math.cos(n),u=r*g,l=a*g,w=Math.sin(n),M=r*w,m=a*w;C=d.project(t,C),C=e.Cartesian3.subtract(C,S,C);var R=s.Matrix2.fromRotation(n,c);C=s.Matrix2.multiplyByVector(R,C,C),C=e.Cartesian3.add(C,S,C),t=d.unproject(C,t),i-=1,h-=1;var X=t.latitude,Y=X+i*m,p=X-u*h,v=X-u*h+i*m,O=Math.max(X,Y,p,v),f=Math.min(X,Y,p,v),_=t.longitude,G=_+i*l,b=_+h*M,x=_+h*M+i*l,P=Math.max(_,G,b,x),W=Math.min(_,G,b,x);return{north:O,south:f,east:P,west:W,granYCos:u,granYSin:M,granXCos:l,granXSin:m,nwCorner:t}}u.computeOptions=function(t,n,o,s,i,h,g){var u,c,C,M,m,R=t.east,X=t.west,Y=t.north,p=t.south,v=!1,O=!1;Y===e.CesiumMath.PI_OVER_TWO&&(v=!0),p===-e.CesiumMath.PI_OVER_TWO&&(O=!0);var f=Y-p;m=X>R?e.CesiumMath.TWO_PI-X+R:R-X,u=Math.ceil(m/n)+1,c=Math.ceil(f/n)+1,C=m/(u-1),M=f/(c-1);var _=r.Rectangle.northwest(t,h),G=r.Rectangle.center(t,l);0===o&&0===s||(G.longitude<_.longitude&&(G.longitude+=e.CesiumMath.TWO_PI),S=d.project(G,S));var b=M,x=C,P=0,W=0,y=r.Rectangle.clone(t,i),I={granYCos:b,granYSin:P,granXCos:x,granXSin:W,nwCorner:_,boundingRectangle:y,width:u,height:c,northCap:v,southCap:O};if(0!==o){var T=w(_,o,C,M,G,u,c);if(Y=T.north,p=T.south,R=T.east,X=T.west,Y<-e.CesiumMath.PI_OVER_TWO||Y>e.CesiumMath.PI_OVER_TWO||p<-e.CesiumMath.PI_OVER_TWO||p>e.CesiumMath.PI_OVER_TWO)throw new a.DeveloperError("Rotated rectangle is invalid.  It crosses over either the north or south pole.");I.granYCos=T.granYCos,I.granYSin=T.granYSin,I.granXCos=T.granXCos,I.granXSin=T.granXSin,y.north=Y,y.south=p,y.east=R,y.west=X}if(0!==s){o-=s;var E=r.Rectangle.northwest(y,g),V=w(E,o,C,M,G,u,c);I.stGranYCos=V.granYCos,I.stGranXCos=V.granXCos,I.stGranYSin=V.granYSin,I.stGranXSin=V.granXSin,I.stNwCorner=E,I.stWest=V.west,I.stSouth=V.south}return I},t.RectangleGeometryLibrary=u}));