define(["exports","./when-45f3d25d","./Check-34538dad","./Cartesian3-eab74dc0"],(function(e,t,a,n){"use strict";var r=new n.Cartesian3,i=new n.Cartesian3;function u(e,u,o,s,h){if(!t.defined(e))throw new a.DeveloperError("cartesian is required.");if(!t.defined(u))throw new a.DeveloperError("oneOverRadii is required.");if(!t.defined(o))throw new a.DeveloperError("oneOverRadiiSquared is required.");if(!t.defined(s))throw new a.DeveloperError("centerToleranceSquared is required.");var c=e.x,d=e.y,f=e.z,l=u.x,C=u.y,m=u.z,p=c*c*l*l,y=d*d*C*C,g=f*f*m*m,O=p+y+g,M=Math.sqrt(1/O),b=n.Cartesian3.multiplyByScalar(e,M,r);if(O<s)return isFinite(M)?n.Cartesian3.clone(b,h):void 0;var w=o.x,k=o.y,_=o.z,v=i;v.x=b.x*w*2,v.y=b.y*k*2,v.z=b.z*_*2;var x,q,T,j,S,E,R,V,I,P,A,z=(1-M)*n.Cartesian3.magnitude(e)/(.5*n.Cartesian3.magnitude(v)),N=0;do{z-=N,T=1/(1+z*w),j=1/(1+z*k),S=1/(1+z*_),E=T*T,R=j*j,V=S*S,I=E*T,P=R*j,A=V*S,x=p*E+y*R+g*V-1,q=p*I*w+y*P*k+g*A*_;var W=-2*q;N=x/W}while(Math.abs(x)>n.CesiumMath.EPSILON12);return t.defined(h)?(h.x=c*T,h.y=d*j,h.z=f*S,h):new n.Cartesian3(c*T,d*j,f*S)}function o(e,a,n){this.longitude=t.defaultValue(e,0),this.latitude=t.defaultValue(a,0),this.height=t.defaultValue(n,0)}o.fromRadians=function(e,n,r,i){return a.Check.typeOf.number("longitude",e),a.Check.typeOf.number("latitude",n),r=t.defaultValue(r,0),t.defined(i)?(i.longitude=e,i.latitude=n,i.height=r,i):new o(e,n,r)},o.fromDegrees=function(e,t,r,i){return a.Check.typeOf.number("longitude",e),a.Check.typeOf.number("latitude",t),e=n.CesiumMath.toRadians(e),t=n.CesiumMath.toRadians(t),o.fromRadians(e,t,r,i)};var s=new n.Cartesian3,h=new n.Cartesian3,c=new n.Cartesian3,d=new n.Cartesian3(1/6378137,1/6378137,1/6356752.314245179),f=new n.Cartesian3(1/40680631590769,1/40680631590769,1/40408299984661.445),l=n.CesiumMath.EPSILON1;function C(e,r,i,u){r=t.defaultValue(r,0),i=t.defaultValue(i,0),u=t.defaultValue(u,0),a.Check.typeOf.number.greaterThanOrEquals("x",r,0),a.Check.typeOf.number.greaterThanOrEquals("y",i,0),a.Check.typeOf.number.greaterThanOrEquals("z",u,0),e._radii=new n.Cartesian3(r,i,u),e._radiiSquared=new n.Cartesian3(r*r,i*i,u*u),e._radiiToTheFourth=new n.Cartesian3(r*r*r*r,i*i*i*i,u*u*u*u),e._oneOverRadii=new n.Cartesian3(0===r?0:1/r,0===i?0:1/i,0===u?0:1/u),e._oneOverRadiiSquared=new n.Cartesian3(0===r?0:1/(r*r),0===i?0:1/(i*i),0===u?0:1/(u*u)),e._minimumRadius=Math.min(r,i,u),e._maximumRadius=Math.max(r,i,u),e._centerToleranceSquared=n.CesiumMath.EPSILON1,0!==e._radiiSquared.z&&(e._squaredXOverSquaredZ=e._radiiSquared.x/e._radiiSquared.z)}function m(e,t,a){this._radii=void 0,this._radiiSquared=void 0,this._radiiToTheFourth=void 0,this._oneOverRadii=void 0,this._oneOverRadiiSquared=void 0,this._minimumRadius=void 0,this._maximumRadius=void 0,this._centerToleranceSquared=void 0,this._squaredXOverSquaredZ=void 0,C(this,e,t,a)}o.fromCartesian=function(e,a,r){var i=t.defined(a)?a.oneOverRadii:d,C=t.defined(a)?a.oneOverRadiiSquared:f,m=t.defined(a)?a._centerToleranceSquared:l,p=u(e,i,C,m,h);if(t.defined(p)){var y=n.Cartesian3.multiplyComponents(p,C,s);y=n.Cartesian3.normalize(y,y);var g=n.Cartesian3.subtract(e,p,c),O=Math.atan2(y.y,y.x),M=Math.asin(y.z),b=n.CesiumMath.sign(n.Cartesian3.dot(g,e))*n.Cartesian3.magnitude(g);return t.defined(r)?(r.longitude=O,r.latitude=M,r.height=b,r):new o(O,M,b)}},o.toCartesian=function(e,t,r){return a.Check.defined("cartographic",e),n.Cartesian3.fromRadians(e.longitude,e.latitude,e.height,t,r)},o.clone=function(e,a){if(t.defined(e))return t.defined(a)?(a.longitude=e.longitude,a.latitude=e.latitude,a.height=e.height,a):new o(e.longitude,e.latitude,e.height)},o.equals=function(e,a){return e===a||t.defined(e)&&t.defined(a)&&e.longitude===a.longitude&&e.latitude===a.latitude&&e.height===a.height},o.equalsEpsilon=function(e,a,n){return n=t.defaultValue(n,0),e===a||t.defined(e)&&t.defined(a)&&Math.abs(e.longitude-a.longitude)<=n&&Math.abs(e.latitude-a.latitude)<=n&&Math.abs(e.height-a.height)<=n},o.ZERO=Object.freeze(new o(0,0,0)),o.prototype.clone=function(e){return o.clone(this,e)},o.prototype.equals=function(e){return o.equals(this,e)},o.prototype.equalsEpsilon=function(e,t){return o.equalsEpsilon(this,e,t)},o.prototype.toString=function(){return"("+this.longitude+", "+this.latitude+", "+this.height+")"},Object.defineProperties(m.prototype,{radii:{get:function(){return this._radii}},radiiSquared:{get:function(){return this._radiiSquared}},radiiToTheFourth:{get:function(){return this._radiiToTheFourth}},oneOverRadii:{get:function(){return this._oneOverRadii}},oneOverRadiiSquared:{get:function(){return this._oneOverRadiiSquared}},minimumRadius:{get:function(){return this._minimumRadius}},maximumRadius:{get:function(){return this._maximumRadius}}}),m.clone=function(e,a){if(t.defined(e)){var r=e._radii;return t.defined(a)?(n.Cartesian3.clone(r,a._radii),n.Cartesian3.clone(e._radiiSquared,a._radiiSquared),n.Cartesian3.clone(e._radiiToTheFourth,a._radiiToTheFourth),n.Cartesian3.clone(e._oneOverRadii,a._oneOverRadii),n.Cartesian3.clone(e._oneOverRadiiSquared,a._oneOverRadiiSquared),a._minimumRadius=e._minimumRadius,a._maximumRadius=e._maximumRadius,a._centerToleranceSquared=e._centerToleranceSquared,a):new m(r.x,r.y,r.z)}},m.fromCartesian3=function(e,a){return t.defined(a)||(a=new m),t.defined(e)?(C(a,e.x,e.y,e.z),a):a},m.WGS84=Object.freeze(new m(6378137,6378137,6356752.314245179)),m.UNIT_SPHERE=Object.freeze(new m(1,1,1)),m.MOON=Object.freeze(new m(n.CesiumMath.LUNAR_RADIUS,n.CesiumMath.LUNAR_RADIUS,n.CesiumMath.LUNAR_RADIUS)),m.prototype.clone=function(e){return m.clone(this,e)},m.packedLength=n.Cartesian3.packedLength,m.pack=function(e,r,i){return a.Check.typeOf.object("value",e),a.Check.defined("array",r),i=t.defaultValue(i,0),n.Cartesian3.pack(e._radii,r,i),r},m.unpack=function(e,r,i){a.Check.defined("array",e),r=t.defaultValue(r,0);var u=n.Cartesian3.unpack(e,r);return m.fromCartesian3(u,i)},m.prototype.geocentricSurfaceNormal=n.Cartesian3.normalize,m.prototype.geodeticSurfaceNormalCartographic=function(e,r){a.Check.typeOf.object("cartographic",e);var i=e.longitude,u=e.latitude,o=Math.cos(u),s=o*Math.cos(i),h=o*Math.sin(i),c=Math.sin(u);return t.defined(r)||(r=new n.Cartesian3),r.x=s,r.y=h,r.z=c,n.Cartesian3.normalize(r,r)},m.prototype.geodeticSurfaceNormal=function(e,a){return t.defined(a)||(a=new n.Cartesian3),a=n.Cartesian3.multiplyComponents(e,this._oneOverRadiiSquared,a),n.Cartesian3.normalize(a,a)};var p=new n.Cartesian3,y=new n.Cartesian3;m.prototype.cartographicToCartesian=function(e,a){var r=p,i=y;this.geodeticSurfaceNormalCartographic(e,r),n.Cartesian3.multiplyComponents(this._radiiSquared,r,i);var u=Math.sqrt(n.Cartesian3.dot(r,i));return n.Cartesian3.divideByScalar(i,u,i),n.Cartesian3.multiplyByScalar(r,e.height,r),t.defined(a)||(a=new n.Cartesian3),n.Cartesian3.add(i,r,a)},m.prototype.cartographicArrayToCartesianArray=function(e,n){a.Check.defined("cartographics",e);var r=e.length;t.defined(n)?n.length=r:n=new Array(r);for(var i=0;i<r;i++)n[i]=this.cartographicToCartesian(e[i],n[i]);return n};var g=new n.Cartesian3,O=new n.Cartesian3,M=new n.Cartesian3;function b(e,a,n,r){this.west=t.defaultValue(e,0),this.south=t.defaultValue(a,0),this.east=t.defaultValue(n,0),this.north=t.defaultValue(r,0)}m.prototype.cartesianToCartographic=function(e,a){var r=this.scaleToGeodeticSurface(e,O);if(t.defined(r)){var i=this.geodeticSurfaceNormal(r,g),u=n.Cartesian3.subtract(e,r,M),s=Math.atan2(i.y,i.x),h=Math.asin(i.z),c=n.CesiumMath.sign(n.Cartesian3.dot(u,e))*n.Cartesian3.magnitude(u);return t.defined(a)?(a.longitude=s,a.latitude=h,a.height=c,a):new o(s,h,c)}},m.prototype.cartesianArrayToCartographicArray=function(e,n){a.Check.defined("cartesians",e);var r=e.length;t.defined(n)?n.length=r:n=new Array(r);for(var i=0;i<r;++i)n[i]=this.cartesianToCartographic(e[i],n[i]);return n},m.prototype.scaleToGeodeticSurface=function(e,t){return u(e,this._oneOverRadii,this._oneOverRadiiSquared,this._centerToleranceSquared,t)},m.prototype.scaleToGeocentricSurface=function(e,r){a.Check.typeOf.object("cartesian",e),t.defined(r)||(r=new n.Cartesian3);var i=e.x,u=e.y,o=e.z,s=this._oneOverRadiiSquared,h=1/Math.sqrt(i*i*s.x+u*u*s.y+o*o*s.z);return n.Cartesian3.multiplyByScalar(e,h,r)},m.prototype.transformPositionToScaledSpace=function(e,a){return t.defined(a)||(a=new n.Cartesian3),n.Cartesian3.multiplyComponents(e,this._oneOverRadii,a)},m.prototype.transformPositionFromScaledSpace=function(e,a){return t.defined(a)||(a=new n.Cartesian3),n.Cartesian3.multiplyComponents(e,this._radii,a)},m.prototype.equals=function(e){return this===e||t.defined(e)&&n.Cartesian3.equals(this._radii,e._radii)},m.prototype.toString=function(){return this._radii.toString()},m.prototype.getSurfaceNormalIntersectionWithZAxis=function(e,r,i){if(a.Check.typeOf.object("position",e),!n.CesiumMath.equalsEpsilon(this._radii.x,this._radii.y,n.CesiumMath.EPSILON15))throw new a.DeveloperError("Ellipsoid must be an ellipsoid of revolution (radii.x == radii.y)");a.Check.typeOf.number.greaterThan("Ellipsoid.radii.z",this._radii.z,0),r=t.defaultValue(r,0);var u=this._squaredXOverSquaredZ;if(t.defined(i)||(i=new n.Cartesian3),i.x=0,i.y=0,i.z=e.z*(1-u),!(Math.abs(i.z)>=this._radii.z-r))return i},Object.defineProperties(b.prototype,{width:{get:function(){return b.computeWidth(this)}},height:{get:function(){return b.computeHeight(this)}}}),b.packedLength=4,b.pack=function(e,n,r){return a.Check.typeOf.object("value",e),a.Check.defined("array",n),r=t.defaultValue(r,0),n[r++]=e.west,n[r++]=e.south,n[r++]=e.east,n[r]=e.north,n},b.unpack=function(e,n,r){return a.Check.defined("array",e),n=t.defaultValue(n,0),t.defined(r)||(r=new b),r.west=e[n++],r.south=e[n++],r.east=e[n++],r.north=e[n],r},b.computeWidth=function(e){a.Check.typeOf.object("rectangle",e);var t=e.east,r=e.west;return t<r&&(t+=n.CesiumMath.TWO_PI),t-r},b.computeHeight=function(e){return a.Check.typeOf.object("rectangle",e),e.north-e.south},b.fromDegrees=function(e,a,r,i,u){return e=n.CesiumMath.toRadians(t.defaultValue(e,0)),a=n.CesiumMath.toRadians(t.defaultValue(a,0)),r=n.CesiumMath.toRadians(t.defaultValue(r,0)),i=n.CesiumMath.toRadians(t.defaultValue(i,0)),t.defined(u)?(u.west=e,u.south=a,u.east=r,u.north=i,u):new b(e,a,r,i)},b.fromRadians=function(e,a,n,r,i){return t.defined(i)?(i.west=t.defaultValue(e,0),i.south=t.defaultValue(a,0),i.east=t.defaultValue(n,0),i.north=t.defaultValue(r,0),i):new b(e,a,n,r)},b.fromCartographicArray=function(e,r){a.Check.defined("cartographics",e);for(var i=Number.MAX_VALUE,u=-Number.MAX_VALUE,o=Number.MAX_VALUE,s=-Number.MAX_VALUE,h=Number.MAX_VALUE,c=-Number.MAX_VALUE,d=0,f=e.length;d<f;d++){var l=e[d];i=Math.min(i,l.longitude),u=Math.max(u,l.longitude),h=Math.min(h,l.latitude),c=Math.max(c,l.latitude);var C=l.longitude>=0?l.longitude:l.longitude+n.CesiumMath.TWO_PI;o=Math.min(o,C),s=Math.max(s,C)}return u-i>s-o&&(i=o,u=s,u>n.CesiumMath.PI&&(u-=n.CesiumMath.TWO_PI),i>n.CesiumMath.PI&&(i-=n.CesiumMath.TWO_PI)),t.defined(r)?(r.west=i,r.south=h,r.east=u,r.north=c,r):new b(i,h,u,c)},b.fromCartesianArray=function(e,r,i){a.Check.defined("cartesians",e),r=t.defaultValue(r,m.WGS84);for(var u=Number.MAX_VALUE,o=-Number.MAX_VALUE,s=Number.MAX_VALUE,h=-Number.MAX_VALUE,c=Number.MAX_VALUE,d=-Number.MAX_VALUE,f=0,l=e.length;f<l;f++){var C=r.cartesianToCartographic(e[f]);u=Math.min(u,C.longitude),o=Math.max(o,C.longitude),c=Math.min(c,C.latitude),d=Math.max(d,C.latitude);var p=C.longitude>=0?C.longitude:C.longitude+n.CesiumMath.TWO_PI;s=Math.min(s,p),h=Math.max(h,p)}return o-u>h-s&&(u=s,o=h,o>n.CesiumMath.PI&&(o-=n.CesiumMath.TWO_PI),u>n.CesiumMath.PI&&(u-=n.CesiumMath.TWO_PI)),t.defined(i)?(i.west=u,i.south=c,i.east=o,i.north=d,i):new b(u,c,o,d)},b.clone=function(e,a){if(t.defined(e))return t.defined(a)?(a.west=e.west,a.south=e.south,a.east=e.east,a.north=e.north,a):new b(e.west,e.south,e.east,e.north)},b.equalsEpsilon=function(e,a,n){return n=t.defaultValue(n,0),e===a||t.defined(e)&&t.defined(a)&&Math.abs(e.west-a.west)<=n&&Math.abs(e.south-a.south)<=n&&Math.abs(e.east-a.east)<=n&&Math.abs(e.north-a.north)<=n},b.prototype.clone=function(e){return b.clone(this,e)},b.prototype.equals=function(e){return b.equals(this,e)},b.equals=function(e,a){return e===a||t.defined(e)&&t.defined(a)&&e.west===a.west&&e.south===a.south&&e.east===a.east&&e.north===a.north},b.prototype.equalsEpsilon=function(e,a){return a=t.defaultValue(a,0),b.equalsEpsilon(this,e,a)},b.validate=function(e){a.Check.typeOf.object("rectangle",e);var t=e.north;a.Check.typeOf.number.greaterThanOrEquals("north",t,-n.CesiumMath.PI_OVER_TWO),a.Check.typeOf.number.lessThanOrEquals("north",t,n.CesiumMath.PI_OVER_TWO);var r=e.south;a.Check.typeOf.number.greaterThanOrEquals("south",r,-n.CesiumMath.PI_OVER_TWO),a.Check.typeOf.number.lessThanOrEquals("south",r,n.CesiumMath.PI_OVER_TWO);var i=e.west;a.Check.typeOf.number.greaterThanOrEquals("west",i,-Math.PI),a.Check.typeOf.number.lessThanOrEquals("west",i,Math.PI);var u=e.east;a.Check.typeOf.number.greaterThanOrEquals("east",u,-Math.PI),a.Check.typeOf.number.lessThanOrEquals("east",u,Math.PI)},b.southwest=function(e,n){return a.Check.typeOf.object("rectangle",e),t.defined(n)?(n.longitude=e.west,n.latitude=e.south,n.height=0,n):new o(e.west,e.south)},b.northwest=function(e,n){return a.Check.typeOf.object("rectangle",e),t.defined(n)?(n.longitude=e.west,n.latitude=e.north,n.height=0,n):new o(e.west,e.north)},b.northeast=function(e,n){return a.Check.typeOf.object("rectangle",e),t.defined(n)?(n.longitude=e.east,n.latitude=e.north,n.height=0,n):new o(e.east,e.north)},b.southeast=function(e,n){return a.Check.typeOf.object("rectangle",e),t.defined(n)?(n.longitude=e.east,n.latitude=e.south,n.height=0,n):new o(e.east,e.south)},b.center=function(e,r){a.Check.typeOf.object("rectangle",e);var i=e.east,u=e.west;i<u&&(i+=n.CesiumMath.TWO_PI);var s=n.CesiumMath.negativePiToPi(.5*(u+i)),h=.5*(e.south+e.north);return t.defined(r)?(r.longitude=s,r.latitude=h,r.height=0,r):new o(s,h)},b.intersection=function(e,r,i){a.Check.typeOf.object("rectangle",e),a.Check.typeOf.object("otherRectangle",r);var u=e.east,o=e.west,s=r.east,h=r.west;u<o&&s>0?u+=n.CesiumMath.TWO_PI:s<h&&u>0&&(s+=n.CesiumMath.TWO_PI),u<o&&h<0?h+=n.CesiumMath.TWO_PI:s<h&&o<0&&(o+=n.CesiumMath.TWO_PI);var c=n.CesiumMath.negativePiToPi(Math.max(o,h)),d=n.CesiumMath.negativePiToPi(Math.min(u,s));if(!((e.west<e.east||r.west<r.east)&&d<=c)){var f=Math.max(e.south,r.south),l=Math.min(e.north,r.north);if(!(f>=l))return t.defined(i)?(i.west=c,i.south=f,i.east=d,i.north=l,i):new b(c,f,d,l)}},b.simpleIntersection=function(e,n,r){a.Check.typeOf.object("rectangle",e),a.Check.typeOf.object("otherRectangle",n);var i=Math.max(e.west,n.west),u=Math.max(e.south,n.south),o=Math.min(e.east,n.east),s=Math.min(e.north,n.north);if(!(u>=s||i>=o))return t.defined(r)?(r.west=i,r.south=u,r.east=o,r.north=s,r):new b(i,u,o,s)},b.union=function(e,r,i){a.Check.typeOf.object("rectangle",e),a.Check.typeOf.object("otherRectangle",r),t.defined(i)||(i=new b);var u=e.east,o=e.west,s=r.east,h=r.west;u<o&&s>0?u+=n.CesiumMath.TWO_PI:s<h&&u>0&&(s+=n.CesiumMath.TWO_PI),u<o&&h<0?h+=n.CesiumMath.TWO_PI:s<h&&o<0&&(o+=n.CesiumMath.TWO_PI);var c=n.CesiumMath.convertLongitudeRange(Math.min(o,h)),d=n.CesiumMath.convertLongitudeRange(Math.max(u,s));return i.west=c,i.south=Math.min(e.south,r.south),i.east=d,i.north=Math.max(e.north,r.north),i},b.expand=function(e,n,r){return a.Check.typeOf.object("rectangle",e),a.Check.typeOf.object("cartographic",n),t.defined(r)||(r=new b),r.west=Math.min(e.west,n.longitude),r.south=Math.min(e.south,n.latitude),r.east=Math.max(e.east,n.longitude),r.north=Math.max(e.north,n.latitude),r},b.contains=function(e,t){a.Check.typeOf.object("rectangle",e),a.Check.typeOf.object("cartographic",t);var r=t.longitude,i=t.latitude,u=e.west,o=e.east;return o<u&&(o+=n.CesiumMath.TWO_PI,r<0&&(r+=n.CesiumMath.TWO_PI)),(r>u||n.CesiumMath.equalsEpsilon(r,u,n.CesiumMath.EPSILON14))&&(r<o||n.CesiumMath.equalsEpsilon(r,o,n.CesiumMath.EPSILON14))&&i>=e.south&&i<=e.north};var w=new o;function k(e,a){this.x=t.defaultValue(e,0),this.y=t.defaultValue(a,0)}b.subsample=function(e,r,i,u){a.Check.typeOf.object("rectangle",e),r=t.defaultValue(r,m.WGS84),i=t.defaultValue(i,0),t.defined(u)||(u=[]);var o=0,s=e.north,h=e.south,c=e.east,d=e.west,f=w;f.height=i,f.longitude=d,f.latitude=s,u[o]=r.cartographicToCartesian(f,u[o]),o++,f.longitude=c,u[o]=r.cartographicToCartesian(f,u[o]),o++,f.latitude=h,u[o]=r.cartographicToCartesian(f,u[o]),o++,f.longitude=d,u[o]=r.cartographicToCartesian(f,u[o]),o++,f.latitude=s<0?s:h>0?h:0;for(var l=1;l<8;++l)f.longitude=-Math.PI+l*n.CesiumMath.PI_OVER_TWO,b.contains(e,f)&&(u[o]=r.cartographicToCartesian(f,u[o]),o++);return 0===f.latitude&&(f.longitude=d,u[o]=r.cartographicToCartesian(f,u[o]),o++,f.longitude=c,u[o]=r.cartographicToCartesian(f,u[o]),o++),u.length=o,u},b.MAX_VALUE=Object.freeze(new b(-Math.PI,-n.CesiumMath.PI_OVER_TWO,Math.PI,n.CesiumMath.PI_OVER_TWO)),k.fromElements=function(e,a,n){return t.defined(n)?(n.x=e,n.y=a,n):new k(e,a)},k.floor=function(e,t){return t.x=Math.floor(e.x),t.y=Math.floor(e.y),t},k.ceil=function(e,t){return t.x=Math.ceil(e.x),t.y=Math.ceil(e.y),t},k.clone=function(e,a){if(t.defined(e))return t.defined(a)?(a.x=e.x,a.y=e.y,a):new k(e.x,e.y)},k.fromCartesian3=k.clone,k.fromCartesian4=k.clone,k.packedLength=2,k.pack=function(e,n,r){return a.Check.typeOf.object("value",e),a.Check.defined("array",n),r=t.defaultValue(r,0),n[r++]=e.x,n[r]=e.y,n},k.unpack=function(e,n,r){return a.Check.defined("array",e),n=t.defaultValue(n,0),t.defined(r)||(r=new k),r.x=e[n++],r.y=e[n],r},k.packArray=function(e,n){a.Check.defined("array",e);var r=e.length,i=2*r;if(t.defined(n)){if(!Array.isArray(n)&&n.length!==i)throw new a.DeveloperError("If result is a typed array, it must have exactly array.length * 2 elements");n.length!==i&&(n.length=i)}else n=new Array(i);for(var u=0;u<r;++u)k.pack(e[u],n,2*u);return n},k.unpackArray=function(e,n){if(a.Check.defined("array",e),a.Check.typeOf.number.greaterThanOrEquals("array.length",e.length,2),e.length%2!==0)throw new a.DeveloperError("array length must be a multiple of 2.");var r=e.length;t.defined(n)?n.length=r/2:n=new Array(r/2);for(var i=0;i<r;i+=2){var u=i/2;n[u]=k.unpack(e,i,n[u])}return n},k.fromArray=k.unpack,k.maximumComponent=function(e){return a.Check.typeOf.object("cartesian",e),Math.max(e.x,e.y)},k.minimumComponent=function(e){return a.Check.typeOf.object("cartesian",e),Math.min(e.x,e.y)},k.minimumByComponent=function(e,t,n){return a.Check.typeOf.object("first",e),a.Check.typeOf.object("second",t),a.Check.typeOf.object("result",n),n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n},k.maximumByComponent=function(e,t,n){return a.Check.typeOf.object("first",e),a.Check.typeOf.object("second",t),a.Check.typeOf.object("result",n),n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n},k.magnitudeSquared=function(e){return a.Check.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y},k.magnitude=function(e){return Math.sqrt(k.magnitudeSquared(e))};var _=new k;k.distance=function(e,t){return a.Check.typeOf.object("left",e),a.Check.typeOf.object("right",t),k.subtract(e,t,_),k.magnitude(_)},k.distanceSquared=function(e,t){return a.Check.typeOf.object("left",e),a.Check.typeOf.object("right",t),k.subtract(e,t,_),k.magnitudeSquared(_)},k.normalize=function(e,t){a.Check.typeOf.object("cartesian",e),a.Check.typeOf.object("result",t);var n=k.magnitude(e);if(t.x=e.x/n,t.y=e.y/n,isNaN(t.x)||isNaN(t.y))throw new a.DeveloperError("normalized result is not a number");return t},k.dot=function(e,t){return a.Check.typeOf.object("left",e),a.Check.typeOf.object("right",t),e.x*t.x+e.y*t.y},k.multiplyComponents=function(e,t,n){return a.Check.typeOf.object("left",e),a.Check.typeOf.object("right",t),a.Check.typeOf.object("result",n),n.x=e.x*t.x,n.y=e.y*t.y,n},k.divideComponents=function(e,t,n){return a.Check.typeOf.object("left",e),a.Check.typeOf.object("right",t),a.Check.typeOf.object("result",n),n.x=e.x/t.x,n.y=e.y/t.y,n},k.add=function(e,t,n){return a.Check.typeOf.object("left",e),a.Check.typeOf.object("right",t),a.Check.typeOf.object("result",n),n.x=e.x+t.x,n.y=e.y+t.y,n},k.subtract=function(e,t,n){return a.Check.typeOf.object("left",e),a.Check.typeOf.object("right",t),a.Check.typeOf.object("result",n),n.x=e.x-t.x,n.y=e.y-t.y,n},k.multiplyByScalar=function(e,t,n){return a.Check.typeOf.object("cartesian",e),a.Check.typeOf.number("scalar",t),a.Check.typeOf.object("result",n),n.x=e.x*t,n.y=e.y*t,n},k.divideByScalar=function(e,t,n){return a.Check.typeOf.object("cartesian",e),a.Check.typeOf.number("scalar",t),a.Check.typeOf.object("result",n),n.x=e.x/t,n.y=e.y/t,n},k.negate=function(e,t){return a.Check.typeOf.object("cartesian",e),a.Check.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t},k.abs=function(e,t){return a.Check.typeOf.object("cartesian",e),a.Check.typeOf.object("result",t),t.x=Math.abs(e.x),t.y=Math.abs(e.y),t};var v=new k;k.lerp=function(e,t,n,r){return a.Check.typeOf.object("start",e),a.Check.typeOf.object("end",t),a.Check.typeOf.number("t",n),a.Check.typeOf.object("result",r),k.multiplyByScalar(t,n,v),r=k.multiplyByScalar(e,1-n,r),k.add(v,r,r)};var x=new k,q=new k;k.angleBetween=function(e,t){return a.Check.typeOf.object("left",e),a.Check.typeOf.object("right",t),k.normalize(e,x),k.normalize(t,q),n.CesiumMath.acosClamped(k.dot(x,q))};var T=new k;k.mostOrthogonalAxis=function(e,t){a.Check.typeOf.object("cartesian",e),a.Check.typeOf.object("result",t);var n=k.normalize(e,T);return k.abs(n,n),t=n.x<=n.y?k.clone(k.UNIT_X,t):k.clone(k.UNIT_Y,t),t},k.equals=function(e,a){return e===a||t.defined(e)&&t.defined(a)&&e.x===a.x&&e.y===a.y},k.equalsArray=function(e,t,a){return e.x===t[a]&&e.y===t[a+1]},k.equalsEpsilon=function(e,a,r,i){return e===a||t.defined(e)&&t.defined(a)&&n.CesiumMath.equalsEpsilon(e.x,a.x,r,i)&&n.CesiumMath.equalsEpsilon(e.y,a.y,r,i)},k.ZERO=Object.freeze(new k(0,0)),k.UNIT_X=Object.freeze(new k(1,0)),k.UNIT_Y=Object.freeze(new k(0,1)),k.prototype.clone=function(e){return k.clone(this,e)},k.prototype.equals=function(e){return k.equals(this,e)},k.prototype.equalsEpsilon=function(e,t,a){return k.equalsEpsilon(this,e,t,a)},k.prototype.toString=function(){return"("+this.x+", "+this.y+")"},e.Cartesian2=k,e.Cartographic=o,e.Ellipsoid=m,e.Rectangle=b}));