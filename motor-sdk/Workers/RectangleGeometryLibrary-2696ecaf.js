define(["exports","./when-45f3d25d","./Check-34538dad","./Cartesian3-e69091b9","./Cartesian2-7a44370a","./BoundingSphere-bacc5cb6","./Rectangle-c7d55cfa","./GeometryAttribute-70b679fd"],(function(t,a,n,r,e,o,s,i){"use strict";var h=Math.cos,g=Math.sin,u=Math.sqrt,c={computePosition:function(t,n,r,e,o,s,i){var c=n.radiiSquared,C=t.nwCorner,l=t.boundingRectangle,d=C.latitude-t.granYCos*e+o*t.granXSin,S=h(d),w=g(d),M=c.z*w,m=C.longitude+e*t.granYSin+o*t.granXCos,R=S*h(m),X=S*g(m),Y=c.x*R,p=c.y*X,v=u(Y*R+p*X+M*w);if(s.x=Y/v,s.y=p/v,s.z=M/v,r){var O=t.stNwCorner;a.defined(O)?(d=O.latitude-t.stGranYCos*e+o*t.stGranXSin,m=O.longitude+e*t.stGranYSin+o*t.stGranXCos,i.x=(m-t.stWest)*t.lonScalar,i.y=(d-t.stSouth)*t.latScalar):(i.x=(m-l.west)*t.lonScalar,i.y=(d-l.south)*t.latScalar)}}},C=new i.Matrix2,l=new r.Cartesian3,d=new e.Cartographic,S=new r.Cartesian3,w=new o.GeographicProjection;function M(t,a,n,e,o,s,h){var g=Math.cos(a),u=e*g,c=n*g,d=Math.sin(a),M=e*d,m=n*d;l=w.project(t,l),l=r.Cartesian3.subtract(l,S,l);var R=i.Matrix2.fromRotation(a,C);l=i.Matrix2.multiplyByVector(R,l,l),l=r.Cartesian3.add(l,S,l),t=w.unproject(l,t),s-=1,h-=1;var X=t.latitude,Y=X+s*m,p=X-u*h,v=X-u*h+s*m,O=Math.max(X,Y,p,v),f=Math.min(X,Y,p,v),_=t.longitude,G=_+s*c,x=_+h*M,P=_+h*M+s*c,W=Math.max(_,G,x,P),b=Math.min(_,G,x,P);return{north:O,south:f,east:W,west:b,granYCos:u,granYSin:M,granXCos:c,granXSin:m,nwCorner:t}}c.computeOptions=function(t,a,e,o,i,h,g){var u,c,C,l,m,R=t.east,X=t.west,Y=t.north,p=t.south,v=!1,O=!1;Y===r.CesiumMath.PI_OVER_TWO&&(v=!0),p===-r.CesiumMath.PI_OVER_TWO&&(O=!0);var f=Y-p;m=X>R?r.CesiumMath.TWO_PI-X+R:R-X,u=Math.ceil(m/a)+1,c=Math.ceil(f/a)+1,C=m/(u-1),l=f/(c-1);var _=s.Rectangle.northwest(t,h),G=s.Rectangle.center(t,d);0===e&&0===o||(G.longitude<_.longitude&&(G.longitude+=r.CesiumMath.TWO_PI),S=w.project(G,S));var x=l,P=C,W=0,b=0,y=s.Rectangle.clone(t,i),I={granYCos:x,granYSin:W,granXCos:P,granXSin:b,nwCorner:_,boundingRectangle:y,width:u,height:c,northCap:v,southCap:O};if(0!==e){var T=M(_,e,C,l,G,u,c);if(Y=T.north,p=T.south,R=T.east,X=T.west,Y<-r.CesiumMath.PI_OVER_TWO||Y>r.CesiumMath.PI_OVER_TWO||p<-r.CesiumMath.PI_OVER_TWO||p>r.CesiumMath.PI_OVER_TWO)throw new n.DeveloperError("Rotated rectangle is invalid.  It crosses over either the north or south pole.");I.granYCos=T.granYCos,I.granYSin=T.granYSin,I.granXCos=T.granXCos,I.granXSin=T.granXSin,y.north=Y,y.south=p,y.east=R,y.west=X}if(0!==o){e-=o;var E=s.Rectangle.northwest(y,g),V=M(E,e,C,l,G,u,c);I.stGranYCos=V.granYCos,I.stGranXCos=V.granXCos,I.stGranYSin=V.granYSin,I.stGranXSin=V.granXSin,I.stNwCorner=E,I.stWest=V.west,I.stSouth=V.south}return I},t.RectangleGeometryLibrary=c}));