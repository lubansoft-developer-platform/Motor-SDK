define(["./when-45f3d25d","./Check-34538dad","./Cartesian3-ef6ea826","./Cartesian2-a652b463","./BoundingSphere-038d5fbc","./Transforms-c8a82813","./Matrix4-f54b529f","./RuntimeError-86da6af2","./WebGLConstants-3660bc8f","./ComponentDatatype-d28c2e26","./GeometryAttribute-dfebcc43","./PrimitiveType-30fa6f85","./GeometryAttributes-9d45f9e2","./Plane-a0c58786","./VertexFormat-06aa4e32","./FrustumGeometry-0adb1c3e"],(function(e,t,r,n,a,i,u,o,c,s,p,m,d,f,h,g){"use strict";function _(t){var n,a,u=t.frustum,o=t.orientation,c=t.origin,s=e.defaultValue(t._drawNearPlane,!0);u instanceof g.PerspectiveFrustum?(n=0,a=g.PerspectiveFrustum.packedLength):u instanceof g.OrthographicFrustum&&(n=1,a=g.OrthographicFrustum.packedLength),this._frustumType=n,this._frustum=u.clone(),this._origin=r.Cartesian3.clone(c),this._orientation=i.Quaternion.clone(o),this._drawNearPlane=s,this._workerName="createFrustumOutlineGeometry",this.packedLength=2+a+r.Cartesian3.packedLength+i.Quaternion.packedLength}_.pack=function(t,n,a){a=e.defaultValue(a,0);var u=t._frustumType,o=t._frustum;return n[a++]=u,0===u?(g.PerspectiveFrustum.pack(o,n,a),a+=g.PerspectiveFrustum.packedLength):(g.OrthographicFrustum.pack(o,n,a),a+=g.OrthographicFrustum.packedLength),r.Cartesian3.pack(t._origin,n,a),a+=r.Cartesian3.packedLength,i.Quaternion.pack(t._orientation,n,a),n[a+=i.Quaternion.packedLength]=t._drawNearPlane?1:0,n};var k=new g.PerspectiveFrustum,l=new g.OrthographicFrustum,y=new i.Quaternion,v=new r.Cartesian3;return _.unpack=function(t,n,a){n=e.defaultValue(n,0);var u,o=t[n++];0===o?(u=g.PerspectiveFrustum.unpack(t,n,k),n+=g.PerspectiveFrustum.packedLength):(u=g.OrthographicFrustum.unpack(t,n,l),n+=g.OrthographicFrustum.packedLength);var c=r.Cartesian3.unpack(t,n,v);n+=r.Cartesian3.packedLength;var s=i.Quaternion.unpack(t,n,y),p=1===t[n+=i.Quaternion.packedLength];if(!e.defined(a))return new _({frustum:u,origin:c,orientation:s,_drawNearPlane:p});var m=o===a._frustumType?a._frustum:void 0;return a._frustum=u.clone(m),a._frustumType=o,a._origin=r.Cartesian3.clone(c,a._origin),a._orientation=i.Quaternion.clone(s,a._orientation),a._drawNearPlane=p,a},_.createGeometry=function(e){var t=e._frustumType,r=e._frustum,n=e._origin,i=e._orientation,u=e._drawNearPlane,o=new Float64Array(24);g.FrustumGeometry._computeNearFarPlanes(n,i,t,r,o);for(var c,f,h=new d.GeometryAttributes({position:new p.GeometryAttribute({componentDatatype:s.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:o})}),_=u?2:1,k=new Uint16Array(8*(_+1)),l=u?0:1;l<2;++l)f=4*l,k[c=u?8*l:0]=f,k[c+1]=f+1,k[c+2]=f+1,k[c+3]=f+2,k[c+4]=f+2,k[c+5]=f+3,k[c+6]=f+3,k[c+7]=f;for(l=0;l<2;++l)f=4*l,k[c=8*(_+l)]=f,k[c+1]=f+4,k[c+2]=f+1,k[c+3]=f+5,k[c+4]=f+2,k[c+5]=f+6,k[c+6]=f+3,k[c+7]=f+7;return new p.Geometry({attributes:h,indices:k,primitiveType:m.PrimitiveType.LINES,boundingSphere:a.BoundingSphere.fromVertices(o)})},function(t,r){return e.defined(r)&&(t=_.unpack(t,r)),_.createGeometry(t)}}));