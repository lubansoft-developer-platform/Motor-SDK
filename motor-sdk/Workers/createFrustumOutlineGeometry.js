define(["./when-45f3d25d","./Check-34538dad","./Cartesian3-eab74dc0","./Cartesian2-174fefc1","./BoundingSphere-9db3442e","./Transforms-3e7152f2","./Matrix4-22b96d31","./RuntimeError-86da6af2","./WebGLConstants-3660bc8f","./ComponentDatatype-86703c58","./GeometryAttribute-98a8cf59","./PrimitiveType-30fa6f85","./GeometryAttributes-9d45f9e2","./Plane-99a0ae01","./VertexFormat-a00562ee","./FrustumGeometry-769a6e82"],(function(e,t,r,n,a,i,u,o,c,s,p,m,f,h,d,k){"use strict";var g=0,y=1;function _(n){t.Check.typeOf.object("options",n),t.Check.typeOf.object("options.frustum",n.frustum),t.Check.typeOf.object("options.origin",n.origin),t.Check.typeOf.object("options.orientation",n.orientation);var a,u,o=n.frustum,c=n.orientation,s=n.origin,p=e.defaultValue(n._drawNearPlane,!0);o instanceof k.PerspectiveFrustum?(a=g,u=k.PerspectiveFrustum.packedLength):o instanceof k.OrthographicFrustum&&(a=y,u=k.OrthographicFrustum.packedLength),this._frustumType=a,this._frustum=o.clone(),this._origin=r.Cartesian3.clone(s),this._orientation=i.Quaternion.clone(c),this._drawNearPlane=p,this._workerName="createFrustumOutlineGeometry",this.packedLength=2+u+r.Cartesian3.packedLength+i.Quaternion.packedLength}_.pack=function(n,a,u){t.Check.typeOf.object("value",n),t.Check.defined("array",a),u=e.defaultValue(u,0);var o=n._frustumType,c=n._frustum;return a[u++]=o,o===g?(k.PerspectiveFrustum.pack(c,a,u),u+=k.PerspectiveFrustum.packedLength):(k.OrthographicFrustum.pack(c,a,u),u+=k.OrthographicFrustum.packedLength),r.Cartesian3.pack(n._origin,a,u),u+=r.Cartesian3.packedLength,i.Quaternion.pack(n._orientation,a,u),u+=i.Quaternion.packedLength,a[u]=n._drawNearPlane?1:0,a};var l=new k.PerspectiveFrustum,v=new k.OrthographicFrustum,C=new i.Quaternion,F=new r.Cartesian3;function w(t,r){return e.defined(r)&&(t=_.unpack(t,r)),_.createGeometry(t)}return _.unpack=function(n,a,u){t.Check.defined("array",n),a=e.defaultValue(a,0);var o,c=n[a++];c===g?(o=k.PerspectiveFrustum.unpack(n,a,l),a+=k.PerspectiveFrustum.packedLength):(o=k.OrthographicFrustum.unpack(n,a,v),a+=k.OrthographicFrustum.packedLength);var s=r.Cartesian3.unpack(n,a,F);a+=r.Cartesian3.packedLength;var p=i.Quaternion.unpack(n,a,C);a+=i.Quaternion.packedLength;var m=1===n[a];if(!e.defined(u))return new _({frustum:o,origin:s,orientation:p,_drawNearPlane:m});var f=c===u._frustumType?u._frustum:void 0;return u._frustum=o.clone(f),u._frustumType=c,u._origin=r.Cartesian3.clone(s,u._origin),u._orientation=i.Quaternion.clone(p,u._orientation),u._drawNearPlane=m,u},_.createGeometry=function(e){var t=e._frustumType,r=e._frustum,n=e._origin,i=e._orientation,u=e._drawNearPlane,o=new Float64Array(24);k.FrustumGeometry._computeNearFarPlanes(n,i,t,r,o);for(var c,h,d=new f.GeometryAttributes({position:new p.GeometryAttribute({componentDatatype:s.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:o})}),g=u?2:1,y=new Uint16Array(8*(g+1)),_=u?0:1;_<2;++_)c=u?8*_:0,h=4*_,y[c]=h,y[c+1]=h+1,y[c+2]=h+1,y[c+3]=h+2,y[c+4]=h+2,y[c+5]=h+3,y[c+6]=h+3,y[c+7]=h;for(_=0;_<2;++_)c=8*(g+_),h=4*_,y[c]=h,y[c+1]=h+4,y[c+2]=h+1,y[c+3]=h+5,y[c+4]=h+2,y[c+5]=h+6,y[c+6]=h+3,y[c+7]=h+7;return new p.Geometry({attributes:d,indices:y,primitiveType:m.PrimitiveType.LINES,boundingSphere:a.BoundingSphere.fromVertices(o)})},w}));