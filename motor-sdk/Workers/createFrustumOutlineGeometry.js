define(["./when-45f3d25d","./Check-34538dad","./Cartesian3-e69091b9","./Cartesian2-7a44370a","./BoundingSphere-bacc5cb6","./Matrix4-c65e6a1b","./RuntimeError-86da6af2","./Rectangle-c7d55cfa","./WebGLConstants-3660bc8f","./ComponentDatatype-86703c58","./GeometryAttribute-70b679fd","./PrimitiveType-30fa6f85","./Transforms-7d49a8ab","./GeometryAttributes-9d45f9e2","./Plane-1875afb4","./VertexFormat-a00562ee","./FrustumGeometry-42ced641"],(function(e,t,r,n,a,i,u,o,c,s,p,m,f,d,h,g,k){"use strict";var y=0,_=1;function l(n){t.Check.typeOf.object("options",n),t.Check.typeOf.object("options.frustum",n.frustum),t.Check.typeOf.object("options.origin",n.origin),t.Check.typeOf.object("options.orientation",n.orientation);var a,i,u=n.frustum,o=n.orientation,c=n.origin,s=e.defaultValue(n._drawNearPlane,!0);u instanceof k.PerspectiveFrustum?(a=y,i=k.PerspectiveFrustum.packedLength):u instanceof k.OrthographicFrustum&&(a=_,i=k.OrthographicFrustum.packedLength),this._frustumType=a,this._frustum=u.clone(),this._origin=r.Cartesian3.clone(c),this._orientation=f.Quaternion.clone(o),this._drawNearPlane=s,this._workerName="createFrustumOutlineGeometry",this.packedLength=2+i+r.Cartesian3.packedLength+f.Quaternion.packedLength}l.pack=function(n,a,i){t.Check.typeOf.object("value",n),t.Check.defined("array",a),i=e.defaultValue(i,0);var u=n._frustumType,o=n._frustum;return a[i++]=u,u===y?(k.PerspectiveFrustum.pack(o,a,i),i+=k.PerspectiveFrustum.packedLength):(k.OrthographicFrustum.pack(o,a,i),i+=k.OrthographicFrustum.packedLength),r.Cartesian3.pack(n._origin,a,i),i+=r.Cartesian3.packedLength,f.Quaternion.pack(n._orientation,a,i),i+=f.Quaternion.packedLength,a[i]=n._drawNearPlane?1:0,a};var v=new k.PerspectiveFrustum,b=new k.OrthographicFrustum,C=new f.Quaternion,F=new r.Cartesian3;function w(t,r){return e.defined(r)&&(t=l.unpack(t,r)),l.createGeometry(t)}return l.unpack=function(n,a,i){t.Check.defined("array",n),a=e.defaultValue(a,0);var u,o=n[a++];o===y?(u=k.PerspectiveFrustum.unpack(n,a,v),a+=k.PerspectiveFrustum.packedLength):(u=k.OrthographicFrustum.unpack(n,a,b),a+=k.OrthographicFrustum.packedLength);var c=r.Cartesian3.unpack(n,a,F);a+=r.Cartesian3.packedLength;var s=f.Quaternion.unpack(n,a,C);a+=f.Quaternion.packedLength;var p=1===n[a];if(!e.defined(i))return new l({frustum:u,origin:c,orientation:s,_drawNearPlane:p});var m=o===i._frustumType?i._frustum:void 0;return i._frustum=u.clone(m),i._frustumType=o,i._origin=r.Cartesian3.clone(c,i._origin),i._orientation=f.Quaternion.clone(s,i._orientation),i._drawNearPlane=p,i},l.createGeometry=function(e){var t=e._frustumType,r=e._frustum,n=e._origin,i=e._orientation,u=e._drawNearPlane,o=new Float64Array(24);k.FrustumGeometry._computeNearFarPlanes(n,i,t,r,o);for(var c,f,h=new d.GeometryAttributes({position:new p.GeometryAttribute({componentDatatype:s.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:o})}),g=u?2:1,y=new Uint16Array(8*(g+1)),_=u?0:1;_<2;++_)c=u?8*_:0,f=4*_,y[c]=f,y[c+1]=f+1,y[c+2]=f+1,y[c+3]=f+2,y[c+4]=f+2,y[c+5]=f+3,y[c+6]=f+3,y[c+7]=f;for(_=0;_<2;++_)c=8*(g+_),f=4*_,y[c]=f,y[c+1]=f+4,y[c+2]=f+1,y[c+3]=f+5,y[c+4]=f+2,y[c+5]=f+6,y[c+6]=f+3,y[c+7]=f+7;return new p.Geometry({attributes:h,indices:y,primitiveType:m.PrimitiveType.LINES,boundingSphere:a.BoundingSphere.fromVertices(o)})},w}));